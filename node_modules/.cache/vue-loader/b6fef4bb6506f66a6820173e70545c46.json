{"remainingRequest":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\src\\views\\talentReport\\components\\innovate1.vue?vue&type=style&index=0&id=664f2ffb&lang=scss&scoped=true&","dependencies":[{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\src\\views\\talentReport\\components\\innovate1.vue","mtime":1661417474115},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQouYm94IHsNCiAgb3ZlcmZsb3cteDogaGlkZGVuOw0KICAuZm9ybSB7DQogICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICB9DQoNCiAgLnJvd0xhYmVsIHsNCiAgICAmIC9kZWVwLyAuZWwtZm9ybS1pdGVtX19sYWJlbCB7DQogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICB3aWR0aDogMTAwJSAhaW1wb3J0YW50Ow0KICAgIH0NCiAgfQ0KDQogIC5mb290IHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgIG1hcmdpbi1ib3R0b206IDIwcHg7DQogIH0NCiAgLnNhdmVCdG4gew0KICAgIGNvbG9yOiAjZmZmOw0KICAgIGJhY2tncm91bmQtY29sb3I6ICNmMGFkNGU7DQogICAgYm9yZGVyLWNvbG9yOiAjZWVhMjM2Ow0KICAgICYuaXMtZGlzYWJsZWQgew0KICAgICAgYmFja2dyb3VuZDogI2NjYzsNCiAgICAgIGJvcmRlci1jb2xvcjogI2NjYzsNCiAgICB9DQogIH0NCiAgLnN1Ym1pdEJ0biB7DQogICAgY29sb3I6ICNmZmY7DQogICAgYmFja2dyb3VuZC1jb2xvcjogIzViYzBkZTsNCiAgICBib3JkZXItY29sb3I6ICM0NmI4ZGE7DQogICAgJi5pcy1kaXNhYmxlZCB7DQogICAgICBiYWNrZ3JvdW5kOiAjY2NjOw0KICAgICAgYm9yZGVyLWNvbG9yOiAjY2NjOw0KICAgIH0NCiAgfQ0KDQogIC5wZXJzb25JbWcgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICByaWdodDogNDBweDsNCiAgICB0b3A6IDA7DQogICAgei1pbmRleDogMTA7DQogICAgaW1nIHsNCiAgICAgIHdpZHRoOiAxMzBweDsNCiAgICAgIGhlaWdodDogMTg4cHg7DQogICAgICBtYXJnaW4tYm90dG9tOiA1cHg7DQogICAgICBwYWRkaW5nOiA0cHg7DQogICAgICBsaW5lLWhlaWdodDogMS40Mjg1NzE0MzsNCiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7DQogICAgICBib3JkZXI6IDFweCBzb2xpZCAjZGRkOw0KICAgICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KICAgIH0NCiAgfQ0KfQ0KLmN1c3RvbVVwTG9hZCB7DQogIC51cGxvYWRJbnB1dCB7DQogICAgd2lkdGg6IDcwMHB4Ow0KICAgICYgL2RlZXAvIC5lbC1pbnB1dF9faW5uZXIgew0KICAgICAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7DQogICAgfQ0KICB9DQogIC51cGxvYWRUZXh0YXJlYSB7DQogICAgd2lkdGg6IDcwMHB4Ow0KICAgICYgL2RlZXAvIC5lbC10ZXh0YXJlYV9faW5uZXIgew0KICAgICAgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7DQogICAgfQ0KICB9DQogIC51cGxvYWRCdG4gew0KICAgIGNvbG9yOiAjMDBhOWVjOw0KICAgIG1hcmdpbi10b3A6IC01cHg7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIGxpbmUtaGVpZ2h0OiAyMHB4Ow0KICB9DQogIC51cGxvYWRCdG4xIHsNCiAgICBtYXJnaW4tbGVmdDogMjBweDsNCiAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7DQogIH0NCn0NCi5kZW1vLWZvcm0taW5saW5lIHsNCiAgZGlzcGxheTogZmxleDsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIGhlaWdodDogMTAwdmg7DQp9DQouZm9ybSB7DQogIHdpZHRoOiA5MDBweDsNCiAgbWFyZ2luOiAwIGF1dG87DQp9DQovZGVlcC8uZWwtZm9ybS1pdGVtX19jb250ZW50IHsNCiAgdGV4dC1hbGlnbjogbGVmdCAhaW1wb3J0YW50Ow0KfQ0K"},{"version":3,"sources":["innovate1.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0lCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"innovate1.vue","sourceRoot":"src/views/talentReport/components","sourcesContent":["<template>\r\n  <div class=\"con\">\r\n    <!--头部查询 -->\r\n    <el-form\r\n      v-if=\"initPage\"\r\n      :inline=\"true\"\r\n      :model=\"formInline\"\r\n      class=\"demo-form-inline\"\r\n    >\r\n      <el-form-item label=\"ID\">\r\n        <el-input v-model=\"formInline.id\" placeholder=\"请输入ID\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit\">查询</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- 创新 -->\r\n    <div class=\"box\" v-else>\r\n      <div class=\"explain\">\r\n        <p>填写要求：</p>\r\n        <p>\r\n          1、请按要求填写完整、真实信息，若无相关信息，请填写“无”，不得空项、漏项。\r\n        </p>\r\n        <p>2、外国语表述的信息请按惯例翻译成中文。</p>\r\n        <p>\r\n          3、申报书请用A4纸正反打印，一式6份；其他附件材料请装订成册，报送1份。\r\n        </p>\r\n      </div>\r\n      <hr />\r\n      <!--头部查询 -->\r\n      <!-- <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\r\n      <el-form-item label=\"ID\">\r\n        <el-input v-model=\"formInline.id\" placeholder=\"请输入ID\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit\">查询</el-button>\r\n      </el-form-item>\r\n    </el-form> -->\r\n      <el-form\r\n        class=\"form\"\r\n        ref=\"form\"\r\n        :model=\"form\"\r\n        label-width=\"180px\"\r\n        :rules=\"rules\"\r\n      >\r\n        <!-- 个人图像 -->\r\n        <div class=\"personImg\">\r\n          <div class=\"customUpLoad\">\r\n            <el-form-item prop=\"header\">\r\n              <input\r\n                ref=\"personImg_file\"\r\n                type=\"file\"\r\n                name=\"personImg\"\r\n                style=\"width: 100%; display: none\"\r\n                @change=\"personImgChange\"\r\n              />\r\n              <img :src=\"form.header\" alt=\"\" />\r\n              <div\r\n                @click.prevent=\"$refs.personImg_file.click()\"\r\n                class=\"uploadBtn\"\r\n              >\r\n                点击更换\r\n              </div>\r\n            </el-form-item>\r\n          </div>\r\n        </div>\r\n\r\n        <el-form-item label=\"姓名\">\r\n          <span>{{ form.name }}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"性别\" prop=\"gender\">\r\n          <el-radio-group v-model=\"form.gender\">\r\n            <el-radio label=\"male\">男</el-radio>\r\n            <el-radio label=\"female\">女</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"国籍\" prop=\"nationality\">\r\n          <el-input v-model=\"form.nationality\" style=\"width: 220px\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"出生年月\" prop=\"birthday\">\r\n          <el-date-picker\r\n            v-model=\"form.birthday\"\r\n            type=\"date\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            placeholder=\"请选择日期\"\r\n          >\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"政治面貌\" prop=\"politic\">\r\n          <el-input v-model=\"form.politic\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"证件号码\">\r\n          <span>{{ form.idNumber }}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系电话\">\r\n          <span>{{ form.mobile }}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"电子邮箱\" prop=\"email\">\r\n          <el-input v-model=\"form.email\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"毕业院校\" prop=\"school\">\r\n          <el-input v-model=\"form.school\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"专业\" prop=\"field\">\r\n          <el-input v-model=\"form.field\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"学位\" prop=\"degree\">\r\n          <el-select v-model=\"form.degree\" placeholder=\"请选择\">\r\n            <el-option label=\"无\" value=\"无\"></el-option>\r\n            <el-option label=\"学士学位\" value=\"学士学位\"></el-option>\r\n            <el-option label=\"硕士学位\" value=\"硕士学位\"></el-option>\r\n            <el-option label=\"博士学位\" value=\"博士学位\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"技术职称\" prop=\"techTitle\">\r\n          <el-input v-model=\"form.techTitle\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"现任职务\" prop=\"post\">\r\n          <el-input v-model=\"form.post\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"任职时间\" prop=\"currentPostDate\">\r\n          <el-date-picker\r\n            v-model=\"form.currentPostDate\"\r\n            type=\"date\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            placeholder=\"请选择日期\"\r\n          >\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"产业领域\" prop=\"industry\">\r\n          <el-select\r\n            v-model=\"form.industry\"\r\n            placeholder=\"请选择\"\r\n            style=\"margin-right: 20px\"\r\n            @change=\"industryChange\"\r\n          >\r\n            <el-option\r\n              v-for=\"(o, i) in industryList\"\r\n              :key=\"i\"\r\n              :label=\"o.label\"\r\n              :value=\"o.value\"\r\n            ></el-option>\r\n          </el-select>\r\n          <el-input\r\n            v-if=\"form.industry == '其他'\"\r\n            v-model=\"form.industry1\"\r\n            style=\"width: 250px\"\r\n            placeholder=\"请输入\"\r\n            @blur=\"industryTextBlur\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <!-- <el-form-item label=\"产业领域\" prop=\"industry1\">\r\n            <el-select \r\n            v-model=\"form.industry1\" \r\n            placeholder=\"请选择\" \r\n            style=\"margin-right: 20px;\"\r\n            @change=\"industry1Change\"\r\n            >\r\n                <el-option v-for=\"(o,i) in industry1List\" :key=\"i\" :label=\"o.label\" :value=\"o.value\"></el-option>\r\n            </el-select>\r\n            <el-select v-model=\"form.industry2\" placeholder=\"请选择\" @change=\"industry2Change\">\r\n                <el-option v-for=\"(o,i) in industry2List\" :key=\"i\" :label=\"o.label\" :value=\"o.value\"></el-option>\r\n            </el-select>\r\n        </el-form-item> -->\r\n        <el-form-item label=\"教育经历\" prop=\"edu\">\r\n          <!-- <quill-editor\r\n            v-model=\"form.edu\"\r\n            ref=\"myQuillEditor1\"\r\n            :options=\"editorOption1\"\r\n          >\r\n          </quill-editor> -->\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"form.edu\"\r\n            :rows=\"5\"\r\n            placeholder=\"（按时间顺序，从本科填起，包括“时间、国家、院校、专业、学位”）\r\n如：\r\n19XX年9月-19XX年7月 中国 XX大学XX学院XX专业信息技术学士\r\n20XX年9月-20XX年X月 美国XX大学XX学院XX专业信息技术硕士\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"工作经历\" prop=\"work\">\r\n          <!-- <quill-editor\r\n            v-model=\"form.work\"\r\n            ref=\"myQuillEditor2\"\r\n            :options=\"editorOption2\"\r\n          >\r\n          </quill-editor> -->\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"form.work\"\r\n            :rows=\"5\"\r\n            placeholder=\"（按时间顺序，包括“时间、国家、单位、职务”，不超过5项，兼职请注明）\r\n如：\r\n20XX年7月-20XX年X月 中国 XXXX有限公司XX部门XX项目组负责人\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"创新能力业绩贡献\"\r\n          prop=\"contrib\"\r\n          v-if=\"$route.query.type == 'lj1'\"\r\n        >\r\n          <!-- <quill-editor\r\n            v-model=\"form.contrib\"\r\n            ref=\"myQuillEditor3\"\r\n            :options=\"editorOption3\"\r\n          >\r\n          </quill-editor> -->\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"form.contrib\"\r\n            :rows=\"5\"\r\n            placeholder=\"1、主持（参与）过的主要项目\r\n（项目起止时间、名称、性质、经费、人数、职务、申报人作用贡献等）\r\n2、主要成果\r\n（代表性论著<论文>、专利、产品或服务，每类不超过5项）\r\n3、其他（获得的重要奖项，在国内外重要学术会议报告发言等情况）\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"创新能力业绩贡献\" prop=\"contrib\" v-else>\r\n          <!-- <quill-editor\r\n            v-model=\"form.contrib\"\r\n            ref=\"myQuillEditor3\"\r\n            :options=\"editorOption3\"\r\n          >\r\n          </quill-editor> -->\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"form.contrib\"\r\n            :rows=\"5\"\r\n            placeholder=\"1、主持（参与）过的主要项目\r\n（项目起止时间、名称、性质、经费、人数、职务、申报人作用贡献等）\r\n2、主要成果\r\n（代表性论著<论文>、专利、产品或服务，每类不超过5项）\r\n3、其他（获得的重要奖项，在国内外重要学术会议报告发言等情况）\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item\r\n          class=\"rowLabel\"\r\n          prop=\"hasOtherAgreement\"\r\n          label=\"您是否存在知识产权纠纷、竞业禁止、保密约定等情况，如有，请列出：\"\r\n        >\r\n          <el-radio-group v-model=\"form.hasOtherAgreement\" class=\"customRow\">\r\n            <el-radio :label=\"false\">无</el-radio>\r\n            <el-radio :label=\"true\">有</el-radio>\r\n\r\n            <el-input\r\n              v-if=\"form.hasOtherAgreement\"\r\n              v-model=\"form.otherAgreement\"\r\n              placeholder=\"请输入\"\r\n              style=\"width: 300px; margin-right: 20px\"\r\n            ></el-input>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n\r\n        <el-form-item\r\n          label=\"有效身份证件复印件:\"\r\n          class=\"customUpLoad\"\r\n          prop=\"cardAtta\"\r\n        >\r\n          <el-button\r\n            @click.prevent=\"$refs.card_file.click()\"\r\n            type=\"primary\"\r\n            class=\"uploadBtn1\"\r\n            >上传</el-button\r\n          >\r\n          <input\r\n            ref=\"card_file\"\r\n            type=\"file\"\r\n            name=\"diploma\"\r\n            style=\"width: 100%; display: none\"\r\n            @change=\"cardChange\"\r\n            accept=\"application/msword, image/jpeg, image/png, application/pdf\"\r\n          />\r\n          <el-input\r\n            v-model=\"form.cardAtta\"\r\n            class=\"uploadInput\"\r\n            placeholder=\"有效身份证件复印件\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"学历和学位证书:\"\r\n          class=\"customUpLoad\"\r\n          prop=\"diplomaAtta\"\r\n        >\r\n          <el-button\r\n            @click.prevent=\"$refs.diploma_file.click()\"\r\n            type=\"primary\"\r\n            class=\"uploadBtn1\"\r\n            >上传</el-button\r\n          >\r\n          <input\r\n            ref=\"diploma_file\"\r\n            type=\"file\"\r\n            name=\"diploma\"\r\n            style=\"width: 100%; display: none\"\r\n            @change=\"diplomaChange\"\r\n            accept=\"application/msword, image/jpeg, image/png, application/pdf\"\r\n          />\r\n          <el-input\r\n            v-model=\"form.diplomaAtta\"\r\n            class=\"uploadInput\"\r\n            placeholder=\"留学回国人员须提供教育部认证的留学回国人员学历认证书\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"主要成果:\"\r\n          class=\"customUpLoad customUpLoad1\"\r\n          prop=\"cgzmAtta\"\r\n        >\r\n          <el-button\r\n            @click.prevent=\"$refs.performanceCertification_file.click()\"\r\n            class=\"uploadBtn1\"\r\n            type=\"primary\"\r\n            >上传</el-button\r\n          >\r\n          <input\r\n            ref=\"performanceCertification_file\"\r\n            type=\"file\"\r\n            name=\"performanceCertification\"\r\n            style=\"width: 100%; display: none\"\r\n            @change=\"performanceCertificationChange\"\r\n            accept=\"application/msword, image/jpeg, image/png, application/pdf\"\r\n          />\r\n          <el-input\r\n            v-model=\"form.cgzmAtta\"\r\n            class=\"uploadInput\"\r\n            placeholder=\"代表性论著、专利证书、产品证书等复印件或证明材料\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"工作合同等:\" class=\"customUpLoad\" prop=\"workAtta\">\r\n          <el-button\r\n            @click.prevent=\"$refs.work_file.click()\"\r\n            class=\"uploadBtn1\"\r\n            type=\"primary\"\r\n            >上传</el-button\r\n          >\r\n          <input\r\n            ref=\"work_file\"\r\n            type=\"file\"\r\n            name=\"work_file\"\r\n            style=\"width: 100%; display: none\"\r\n            @change=\"workChange\"\r\n            accept=\"application/msword, image/jpeg, image/png, application/pdf\"\r\n          />\r\n          <el-input\r\n            v-model=\"form.workAtta\"\r\n            type=\"textarea\"\r\n            :rows=\"2\"\r\n            resize=\"none\"\r\n            class=\"uploadTextarea\"\r\n            placeholder=\"工作合同复印件、在引进单位工作的证明（包括但不限于购买社保、商业保险的证明材料）、引进来汉前后的个人所得税完税证明\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item\r\n          label=\"其他奖励证书复印件:\"\r\n          class=\"customUpLoad\"\r\n          prop=\"otherAtta\"\r\n        >\r\n          <el-button\r\n            @click.prevent=\"$refs.other_file.click()\"\r\n            class=\"uploadBtn1\"\r\n            type=\"primary\"\r\n            >上传</el-button\r\n          >\r\n          <input\r\n            ref=\"other_file\"\r\n            type=\"file\"\r\n            name=\"other_file\"\r\n            style=\"width: 100%; display: none\"\r\n            @change=\"otherChange\"\r\n            accept=\"application/msword, image/jpeg, image/png, application/pdf\"\r\n          />\r\n          <el-input\r\n            v-model=\"form.otherAtta\"\r\n            class=\"uploadInput\"\r\n            placeholder=\"其他奖励证书复印件\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"单位推荐函:\" class=\"customUpLoad\" prop=\"dwtjhAtta\">\r\n          <el-button\r\n            @click.prevent=\"$refs.company_file.click()\"\r\n            class=\"uploadBtn1\"\r\n            type=\"primary\"\r\n            >上传</el-button\r\n          >\r\n          <input\r\n            ref=\"company_file\"\r\n            type=\"file\"\r\n            name=\"company_file\"\r\n            style=\"width: 100%; display: none\"\r\n            @change=\"dwtjhChange\"\r\n            accept=\"application/msword, image/jpeg, image/png, application/pdf\"\r\n          />\r\n          <el-input\r\n            v-model=\"form.dwtjhAtta\"\r\n            class=\"uploadInput\"\r\n            placeholder=\"单位推荐函\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <div class=\"fileTest\" style=\"color: #ccc; margin-bottom: 30px\">\r\n          注意：上传附件类型支持doc、jpg、png、jpeg、pdf，不支持docx、rar\r\n        </div>\r\n\r\n        <div class=\"foot\">\r\n          <el-button @click=\"save(0)\" class=\"saveBtn\">保存</el-button>\r\n          <el-button @click=\"submit()\" class=\"submitBtn\">提交</el-button>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getTalentData } from \"@/api/personal\";\r\nimport { citySave, citySelfSave } from \"@/api/city.js\";\r\nimport { mapState } from \"vuex\";\r\nimport head from \"@/assets/imgs/head.jpg\";\r\nimport { getId } from \"@/utils/auth\";\r\n// import { quillEditor } from \"vue-quill-editor\"; //调用编辑器\r\n// import \"quill/dist/quill.core.css\";\r\n// import \"quill/dist/quill.snow.css\";\r\n// import \"quill/dist/quill.bubble.css\";\r\nexport default {\r\n  data() {\r\n    let that = this;\r\n    const industryVal = (rule, value, callback) => {\r\n      if (that.form.industry2) {\r\n        callback();\r\n      } else {\r\n        callback(new Error(\"请选择\"));\r\n      }\r\n    };\r\n    const industryVal1 = (rule, value, callback) => {\r\n      if (value && value != \"其他\") {\r\n        callback();\r\n      } else {\r\n        if (!value || value == \"\") {\r\n          callback(new Error(\"请选择\"));\r\n        }\r\n        if (\r\n          (value == \"其他\" && !that.form.industry1) ||\r\n          that.form.industry1 == \"\"\r\n        ) {\r\n          callback(new Error(\"请填写\"));\r\n        } else {\r\n          callback();\r\n        }\r\n      }\r\n    };\r\n    return {\r\n      initPage: true,\r\n      form: {\r\n        name: \"\",\r\n        gender: \"male\",\r\n        nationality: \"\",\r\n        birthday: \"\",\r\n        politic: \"\",\r\n        idNumber: \"\",\r\n        mobile: \"\",\r\n        email: \"\",\r\n        school: \"\",\r\n        field: \"\",\r\n        degree: \"\",\r\n        techTitle: \"\",\r\n        post: \"\",\r\n        currentPostDate: \"\",\r\n\r\n        industry: \"\", // 产业领域\r\n        industry1: \"\", // 产业领域\r\n        industry2: \"\", // 产业领域\r\n\r\n        edu: \"\",\r\n        work: \"\",\r\n        contrib: \"\",\r\n        hasOtherAgreement: \"\",\r\n        otherAgreement: \"\",\r\n\r\n        // 附件\r\n        cardAtta: \"\",\r\n        diplomaAtta: \"\",\r\n        cgzmAtta: \"\",\r\n        workAtta: \"\",\r\n        otherAtta: \"\",\r\n        // otherreward\r\n        dwtjhAtta: \"\",\r\n        header: \"\",\r\n      },\r\n      formInline: {\r\n        id: \"\",\r\n      },\r\n      personImgData: null,\r\n\r\n      cardAttaData: null,\r\n      diplomaAttaData: null,\r\n      cgzmAttaData: null,\r\n      workAttaData: null,\r\n      otherAttaData: null,\r\n      dwtjhAttaData: null,\r\n\r\n      industry1List: [\r\n        { label: \"集成电路产业\", value: \"1\" },\r\n        { label: \"光电子信息产业\", value: \"2\" },\r\n        { label: \"汽车产业\", value: \"3\" },\r\n        { label: \"大健康产业\", value: \"4\" },\r\n        { label: \"数字产业\", value: \"5\" },\r\n        { label: \"航空航天\", value: \"6\" },\r\n        { label: \"智能制造及高端装备\", value: \"7\" },\r\n        { label: \"新能源与新材料\", value: \"8\" },\r\n        { label: \"节能环保\", value: \"9\" },\r\n        { label: \"现代服务业\", value: \"10\" },\r\n        { label: \"其他\", value: \"11\" },\r\n      ],\r\n\r\n      delArr: [],\r\n\r\n      status: 0,\r\n\r\n      cityEnterpriseType: 0, // 企业类型\r\n      org: \"\", // 企业区\r\n      companyName: \"\", // 企业名称\r\n\r\n      rules: {\r\n        header: [{ required: true, message: \"请上传头像\" }],\r\n        gender: [{ required: true, message: \"请输入内容\", trigger: \"blur\" }],\r\n        birthday: [{ required: true, message: \"请选择\", trigger: \"blur\" }],\r\n        nationality: [\r\n          { required: true, message: \"请输入内容\", trigger: \"blur\" },\r\n        ],\r\n        politic: [{ required: true, message: \"请输入内容\", trigger: \"blur\" }],\r\n        email: [{ required: true, message: \"请输入内容\", trigger: \"blur\" }],\r\n        school: [{ required: true, message: \"请输入内容\", trigger: \"blur\" }],\r\n        field: [{ required: true, message: \"请输入内容\", trigger: \"blur\" }],\r\n        degree: [{ required: true, message: \"请选择\", trigger: \"blur\" }],\r\n        techTitle: [{ required: true, message: \"请输入内容\", trigger: \"blur\" }],\r\n        post: [{ required: true, message: \"请输入内容\", trigger: \"blur\" }],\r\n        currentPostDate: [\r\n          { required: true, message: \"请选择\", trigger: \"blur\" },\r\n        ],\r\n        edu: [{ required: true, message: \"请输入内容\", trigger: \"blur\" }],\r\n        work: [{ required: true, message: \"请输入内容\", trigger: \"blur\" }],\r\n        contrib: [{ required: true, message: \"请输入内容\", trigger: \"blur\" }],\r\n        hasOtherAgreement: [\r\n          { required: true, message: \"请选择\", trigger: \"blur\" },\r\n        ],\r\n        industry: [\r\n          { required: true, trigger: \"change\", validator: industryVal1 },\r\n        ],\r\n        // industry1: [{ required: true, validator: industryVal, trigger: 'change'}],\r\n\r\n        cardAtta: [{ required: true, message: \"请上传文件\", trigger: \"blur\" }],\r\n        diplomaAtta: [\r\n          { required: true, message: \"请上传文件\", trigger: \"blur\" },\r\n        ],\r\n        cgzmAtta: [{ required: true, message: \"请上传文件\", trigger: \"blur\" }],\r\n        workAtta: [{ required: true, message: \"请上传文件\", trigger: \"blur\" }],\r\n        otherAtta: [{ required: true, message: \"请上传文件\", trigger: \"blur\" }],\r\n        dwtjhAtta: [{ required: true, message: \"请上传文件\", trigger: \"blur\" }],\r\n      },\r\n\r\n      industryList: [\r\n        {\r\n          label: '\"光芯屏端网\"新一代信息技术',\r\n          value: '\"光芯屏端网\"新一代信息技术',\r\n        },\r\n        { label: \"汽车制造和服务\", value: \"汽车制造和服务\" },\r\n        { label: \"大健康和生物技术\", value: \"大健康和生物技术\" },\r\n        { label: \"高端装备制造\", value: \"高端装备制造\" },\r\n        { label: \"智能建造\", value: \"智能建造\" },\r\n        { label: \"商贸物流\", value: \"商贸物流\" },\r\n        { label: \"现代金融\", value: \"现代金融\" },\r\n        { label: \"绿色环保\", value: \"绿色环保\" },\r\n        { label: \"文化旅游\", value: \"文化旅游\" },\r\n        { label: \"网络安全\", value: \"网络安全\" },\r\n        { label: \"航空航天\", value: \"航空航天\" },\r\n        { label: \"空天信息\", value: \"空天信息\" },\r\n        { label: \"人工智能\", value: \"人工智能\" },\r\n        { label: \"数字创意\", value: \"数字创意\" },\r\n        { label: \"氢能\", value: \"氢能\" },\r\n        { label: \"其他\", value: \"其他\" },\r\n      ],\r\n//       editorOption1: {\r\n//         placeholder: `（按时间顺序，从本科填起，包括“时间、国家、院校、专业、学位”）\r\n//        如：\r\n//           19XX年9月-19XX年7月 中国 XX大学XX学院XX专业信息技术学士\r\n//           20XX年9月-20XX年X月 美国XX大学XX学院XX专业信息技术硕士`,\r\n//       },\r\n//       editorOption2: {\r\n//         placeholder: `（按时间顺序，包括“时间、国家、单位、职务”，不超过5项，兼职请注明）\r\n// 如：\r\n// 20XX年7月-20XX年X月 中国 XXXX有限公司XX部门XX项目组负责人`,\r\n//       },\r\n//       editorOption3: {\r\n//         placeholder: `1、主持（参与）过的主要项目\r\n// （项目起止时间、名称、性质、经费、人数、职务、申报人作用贡献等）\r\n// 2、主要成果\r\n// （代表性论著<论文>、专利、产品或服务，每类不超过5项）\r\n// 3、其他（获得的重要奖项，在国内外重要学术会议报告发言等情况）`,\r\n//       },\r\n    };\r\n  },\r\n  components: {\r\n    // quillEditor,\r\n  },\r\n  computed: {\r\n    ...mapState([\"userInfo\"]),\r\n    industry2List() {\r\n      let res;\r\n      if (this.form?.industry1 == \"1\") {\r\n        res = [\r\n          { label: \"芯片设计\" },\r\n          { label: \"芯片制造\" },\r\n          { label: \"封装测试与材料业\" },\r\n        ];\r\n      } else if (this.form?.industry1 == \"2\") {\r\n        res = [\r\n          {\r\n            label:\r\n              \"新一代信息技术（光通信、新型显示、人工智能、智能终端、5G通信、量子通信）\",\r\n          },\r\n          {\r\n            label:\r\n              \"地球空间信息（地球空间信息平台建设、地球空间信息产品开发、地球空间信息应用服务）\",\r\n          },\r\n        ];\r\n      } else if (this.form?.industry1 == \"3\") {\r\n        res = [\r\n          { label: \"新能源汽车\" },\r\n          { label: \"智能网联汽车（无人驾驶汽车）\" },\r\n        ];\r\n      } else if (this.form?.industry1 == \"4\") {\r\n        res = [\r\n          {\r\n            label:\r\n              \"生物产业（生物制药、高性能医疗器械、精准诊疗、脑科学、生物农业）\",\r\n          },\r\n          { label: \"康养产业（健康服务、医养融合、文化体育旅游、健康食品）\" },\r\n        ];\r\n      } else if (this.form?.industry1 == \"5\") {\r\n        res = [\r\n          { label: \"数字基础设施\" },\r\n          { label: \"数字共享\" },\r\n          { label: \"数字应用示范\" },\r\n          { label: \"网络安全\" },\r\n        ];\r\n      } else if (this.form?.industry1 == \"6\") {\r\n        res = [{ label: \"航空装备\" }, { label: \"航天装备\" }];\r\n      } else if (this.form?.industry1 == \"7\") {\r\n        res = [\r\n          { label: \"D打印与激光加工装备\" },\r\n          { label: \"机器人\" },\r\n          { label: \"智能装备\" },\r\n          { label: \"高技术船舶与海洋工程装备\" },\r\n          { label: \"轨道交通装备\" },\r\n        ];\r\n      } else if (this.form?.industry1 == \"8\") {\r\n        res = [\r\n          { label: \"新能源利用\" },\r\n          { label: \"海洋核能\" },\r\n          { label: \"先进电力装备和智能电网\" },\r\n          { label: \"石墨烯\" },\r\n          { label: \"新型功能材料高性能复合材料\" },\r\n        ];\r\n      } else if (this.form?.industry1 == \"9\") {\r\n        res = [\r\n          { label: \"节能技术与装备\" },\r\n          { label: \"环保材料及药剂\" },\r\n          { label: \"大气污染治理\" },\r\n          { label: \"污水处理\" },\r\n          { label: \"固废处理\" },\r\n          { label: \"环境监测设备\" },\r\n          { label: \"生态修复\" },\r\n        ];\r\n      } else if (this.form?.industry1 == \"10\") {\r\n        res = [\r\n          { label: \"软件\" },\r\n          { label: \"文创设计\" },\r\n          { label: \"金融\" },\r\n          { label: \"物流\" },\r\n          { label: \"会展\" },\r\n          { label: \"商贸\" },\r\n          { label: \"全域旅游\" },\r\n        ];\r\n      } else if (this.form?.industry1 == \"11\") {\r\n        res = [{ label: \"其他\" }];\r\n      }\r\n      return res?.map((e) => {\r\n        return {\r\n          label: e.label,\r\n          value: e.label,\r\n        };\r\n      });\r\n    },\r\n    btnDis() {\r\n      return (\r\n        (this.$route.query.readOnly ? true : false) ||\r\n        (this.status != 0 && this.status != 104 && this.status != 7)\r\n      );\r\n    },\r\n    cityEnterpriseType1() {\r\n      return this.$route.query.cityEnterpriseType || this.cityEnterpriseType;\r\n    },\r\n    editor() {\r\n      console.log(this.$refs);\r\n    },\r\n  },\r\n  methods: {\r\n    // 查询\r\n    onSubmit() {\r\n      this.queryData(this.formInline.id);\r\n      this.initPage = false;\r\n    },\r\n    onEditorReady1(editor) {\r\n      // 准备编辑器\r\n    },\r\n    industryTextBlur(e) {\r\n      this.$refs.form.validateField(\"industry\");\r\n    },\r\n    queryData(id) {\r\n      let that = this;\r\n      // let id = this.$route.query.talentId;\r\n      let f = this.form;\r\n      if (!id) {\r\n        let { name, mobile, idNumber } = this.userInfo;\r\n        f.name = name;\r\n        f.mobile = mobile;\r\n        f.idNumber = idNumber;\r\n\r\n        // this.companyName = this.$route.query.name;\r\n        // this.org = this.$route.query.districtName;\r\n\r\n        this.$nextTick(() => {\r\n          this.$refs.form.resetFields();\r\n        });\r\n        return;\r\n      }\r\n      let url = `gateway/talentserver/talent/get/${id}`;\r\n      getTalentData(url).then((res) => {\r\n        if (res?.code == 200) {\r\n          that.form = res.data;\r\n\r\n          that.status = res.data.status;\r\n\r\n          that.$set(that.form, \"industry1\", \"\");\r\n          let industry = res.data.industry && res.data.industry.split(\"&\");\r\n          if (industry.length == 2) {\r\n            that.form.industry = industry[0];\r\n            that.form.industry1 = industry[1];\r\n          }\r\n\r\n          this.cityEnterpriseType =\r\n            res.data?.enterprise?.cityEnterpriseType || null;\r\n\r\n          // 附件\r\n          let attachment = res.data.attachmentReqDTOS;\r\n          if (attachment) {\r\n            attachment.forEach((e) => {\r\n              let type = e.type.toLowerCase();\r\n              switch (type) {\r\n                case \"header\":\r\n                  that.$set(that.form, \"header\", e.url);\r\n                  that.personImgData = e;\r\n                  break;\r\n                case \"idcard\":\r\n                  that.$set(that.form, \"cardAtta\", e.name);\r\n                  that.cardAttaData = e;\r\n                  break;\r\n                case \"xlhxwzh\":\r\n                  that.$set(that.form, \"diplomaAtta\", e.name);\r\n                  that.diplomaAttaData = e;\r\n                  break;\r\n                case \"cgzm\":\r\n                  that.$set(that.form, \"cgzmAtta\", e.name);\r\n                  that.cgzmAttaData = e;\r\n                  break;\r\n                case \"gzhtgrsdszm\":\r\n                  that.$set(that.form, \"workAtta\", e.name);\r\n                  that.workAttaData = e;\r\n                  break;\r\n                case \"otherreward\":\r\n                  that.$set(that.form, \"otherAtta\", e.name);\r\n                  that.otherAttaData = e;\r\n                  break;\r\n                case \"dwtjh\":\r\n                  that.$set(that.form, \"dwtjhAtta\", e.name);\r\n                  that.dwtjhAttaData = e;\r\n                  break;\r\n              }\r\n            });\r\n          }\r\n\r\n          this.delArr = [];\r\n\r\n          this.$nextTick(() => {\r\n            this.$refs.form.clearValidate(\"industry1\");\r\n          });\r\n        }\r\n      });\r\n    },\r\n    industryChange(e) {\r\n      this.form.industry1 = \"\";\r\n    },\r\n    industry1Change(e) {\r\n      this.$set(this.form, \"industry2\", \"\");\r\n    },\r\n    industry2Change(e) {\r\n      this.form.industry2 = e;\r\n      this.form.industry = `${this.form.industry1}&${this.form.industry2}`;\r\n    },\r\n    personImgChange(e) {\r\n      const input = e.target;\r\n      const [file] = input.files;\r\n      var oFReader = new FileReader();\r\n      oFReader.readAsDataURL(file);\r\n      let that = this;\r\n      oFReader.onloadend = function (oFRevent) {\r\n        var src = oFRevent.target.result;\r\n        that.$set(that.form, \"header\", src);\r\n      };\r\n\r\n      let id = this.personImgData && this.personImgData.id;\r\n      id && this.delArr.push(id);\r\n\r\n      this.personImgData = {\r\n        file,\r\n        name: file.name,\r\n        time: Date.now(),\r\n      };\r\n    },\r\n    cardChange(e) {\r\n      const input = e.target;\r\n      const [file] = input.files;\r\n\r\n      input.value = \"\";\r\n      this.$set(this.form, \"cardAtta\", file.name);\r\n\r\n      let id = this.cardAttaData?.id;\r\n      id && this.delArr.push(id);\r\n\r\n      this.cardAttaData = {\r\n        file,\r\n        name: file.name,\r\n        time: Date.now(),\r\n      };\r\n\r\n      this.$refs.form.clearValidate(\"cardAtta\");\r\n      console.log(this.form);\r\n    },\r\n    diplomaChange(e) {\r\n      const input = e.target;\r\n      const [file] = input.files;\r\n\r\n      input.value = \"\";\r\n      // this.form.diplomaAtta = file.name\r\n      this.$set(this.form, \"diplomaAtta\", file.name);\r\n\r\n      let id = this.diplomaAttaData?.id;\r\n      id && this.delArr.push(id);\r\n\r\n      this.diplomaAttaData = {\r\n        file,\r\n        name: file.name,\r\n        time: Date.now(),\r\n      };\r\n\r\n      this.$refs.form.clearValidate(\"diplomaAtta\");\r\n    },\r\n    performanceCertificationChange(e) {\r\n      const input = e.target;\r\n      const [file] = input.files;\r\n\r\n      input.value = \"\";\r\n      // this.form.cgzmAtta = file.name\r\n      this.$set(this.form, \"cgzmAtta\", file.name);\r\n\r\n      let id = this.cgzmAttaData?.id;\r\n      id && this.delArr.push(id);\r\n\r\n      this.cgzmAttaData = {\r\n        file,\r\n        name: file.name,\r\n        time: Date.now(),\r\n      };\r\n\r\n      this.$refs.form.clearValidate(\"cgzmAtta\");\r\n    },\r\n    workChange(e) {\r\n      const input = e.target;\r\n      const [file] = input.files;\r\n\r\n      input.value = \"\";\r\n      // this.form.workAtta = file.name\r\n      this.$set(this.form, \"workAtta\", file.name);\r\n\r\n      let id = this.workAttaData?.id;\r\n      id && this.delArr.push(id);\r\n\r\n      this.workAttaData = {\r\n        file,\r\n        name: file.name,\r\n        time: Date.now(),\r\n      };\r\n\r\n      this.$refs.form.clearValidate(\"workAtta\");\r\n    },\r\n    otherChange(e) {\r\n      const input = e.target;\r\n      const [file] = input.files;\r\n\r\n      input.value = \"\";\r\n      // this.form.otherAtta = file.name\r\n      this.$set(this.form, \"otherAtta\", file.name);\r\n\r\n      let id = this.otherAttaData?.id;\r\n      id && this.delArr.push(id);\r\n\r\n      this.otherAttaData = {\r\n        file,\r\n        name: file.name,\r\n        time: Date.now(),\r\n      };\r\n\r\n      this.$refs.form.clearValidate(\"otherAtta\");\r\n    },\r\n    dwtjhChange(e) {\r\n      const input = e.target;\r\n      const [file] = input.files;\r\n\r\n      input.value = \"\";\r\n      // this.form.dwtjhAtta = file.name\r\n      this.$set(this.form, \"dwtjhAtta\", file.name);\r\n\r\n      let id = this.dwtjhAttaData?.id;\r\n      id && this.delArr.push(id);\r\n\r\n      this.dwtjhAttaData = {\r\n        file,\r\n        name: file.name,\r\n        time: Date.now(),\r\n      };\r\n\r\n      this.$refs.form.clearValidate(\"dwtjhAtta\");\r\n    },\r\n    getParam(operationType) {\r\n      let formData = new FormData();\r\n      formData.append(\"id\", this.formInline?.id);\r\n      formData.append(\"userId\", getId());\r\n      formData.append(\"operationType\", operationType);\r\n      formData.append(\"delete\", this.delArr.join(\",\"));\r\n\r\n      let {\r\n        name,\r\n        gender,\r\n        nationality,\r\n        birthday,\r\n        politic,\r\n        idNumber,\r\n        mobile,\r\n        email,\r\n        school,\r\n        field,\r\n        degree,\r\n        techTitle,\r\n        post,\r\n        currentPostDate,\r\n        industry,\r\n        industry1,\r\n        edu,\r\n        work,\r\n        contrib,\r\n        hasOtherAgreement,\r\n        otherAgreement,\r\n      } = this.form;\r\n      formData.append(\"name\", name);\r\n      formData.append(\"gender\", gender);\r\n      formData.append(\"nationality\", nationality);\r\n      formData.append(\"birthday\", birthday);\r\n      formData.append(\"politic\", politic);\r\n      formData.append(\"idNumber\", idNumber);\r\n      formData.append(\"mobile\", mobile);\r\n      formData.append(\"email\", email);\r\n      formData.append(\"school\", school);\r\n      formData.append(\"field\", field);\r\n      formData.append(\"degree\", degree);\r\n      formData.append(\"techTitle\", techTitle);\r\n      formData.append(\"post\", post);\r\n      formData.append(\"currentPostDate\", currentPostDate);\r\n\r\n      formData.append(\"edu\", edu);\r\n      formData.append(\"work\", work);\r\n      formData.append(\"contrib\", contrib);\r\n      if (hasOtherAgreement != null) {\r\n        formData.append(\"hasOtherAgreement\", hasOtherAgreement);\r\n      }\r\n      formData.append(\"otherAgreement\", otherAgreement);\r\n\r\n      formData.append(\"cityEnterpriseType\", this.cityEnterpriseType1);\r\n      formData.append(\"type\", this.$route.query.type);\r\n\r\n      if (!this.$route.query.talentId) {\r\n        // 第一次需要存\r\n        formData.append(\"companyName\", this.companyName);\r\n        formData.append(\"org\", this.org);\r\n      }\r\n\r\n      // formData.append(\"industry\", industry);\r\n      if (industry == \"其他\") {\r\n        formData.append(\"industry\", `${industry}&${industry1}`);\r\n      } else {\r\n        formData.append(\"industry\", industry);\r\n      }\r\n\r\n      this.cardAttaData?.file &&\r\n        formData.append(\"idcard\", this.cardAttaData.file);\r\n      this.diplomaAttaData?.file &&\r\n        formData.append(\"xlhxwzh\", this.diplomaAttaData.file);\r\n      this.cgzmAttaData?.file &&\r\n        formData.append(\"cgzm\", this.cgzmAttaData.file);\r\n      this.workAttaData?.file &&\r\n        formData.append(\"gzhtgrsdszm\", this.workAttaData.file);\r\n      this.otherAttaData?.file &&\r\n        formData.append(\"otherreward\", this.otherAttaData.file);\r\n      this.dwtjhAttaData?.file &&\r\n        formData.append(\"dwtjh\", this.dwtjhAttaData.file);\r\n      this.personImgData?.file &&\r\n        formData.append(\"header\", this.personImgData.file);\r\n\r\n      return formData;\r\n    },\r\n    save(operationType) {\r\n      let param = this.getParam(operationType);\r\n      citySelfSave(param).then((res) => {\r\n        console.log(res);\r\n        if (res?.code == 200) {\r\n          let t;\r\n          if (operationType == 0) {\r\n            t = \"保存成功\";\r\n          } else {\r\n            t = \"提交成功\";\r\n          }\r\n          this.$confirm(t, \"消息\", {\r\n            confirmButtonText: \"确定\",\r\n            cancelButtonText: \"取消\",\r\n            type: \"success\",\r\n          }).then(() => {\r\n            this.$router.push(\"/personal\");\r\n          });\r\n        }\r\n      });\r\n    },\r\n    checkAttaType() {\r\n      let t = [\"doc\", \"jpg\", \"jpeg\", \"png\", \"pdf\"];\r\n      let f = true;\r\n      let n = \"\";\r\n      n = this.cardAttaData?.name.split(\".\");\r\n      if (n.length < 2) return false;\r\n      f = t.includes(n[n.length - 1]);\r\n      if (!f) return false;\r\n\r\n      n = this.diplomaAttaData?.name.split(\".\");\r\n      if (n.length < 2) return false;\r\n      f = t.includes(n[n.length - 1]);\r\n      if (!f) return false;\r\n\r\n      n = this.cgzmAttaData?.name.split(\".\");\r\n      if (n.length < 2) return false;\r\n      f = t.includes(n[n.length - 1]);\r\n      if (!f) return false;\r\n\r\n      n = this.workAttaData?.name.split(\".\");\r\n      if (n.length < 2) return false;\r\n      f = t.includes(n[n.length - 1]);\r\n      if (!f) return false;\r\n\r\n      n = this.otherAttaData?.name.split(\".\");\r\n      if (n.length < 2) return false;\r\n      f = t.includes(n[n.length - 1]);\r\n      if (!f) return false;\r\n\r\n      n = this.dwtjhAttaData?.name.split(\".\");\r\n      if (n.length < 2) return false;\r\n      f = t.includes(n[n.length - 1]);\r\n      if (!f) return false;\r\n\r\n      return f;\r\n    },\r\n    submit() {\r\n      this.$refs.form.validate((valid) => {\r\n        if (valid) {\r\n          // 校验附件类型\r\n          if (!this.checkAttaType()) {\r\n            this.$message.warning(\"当前存在不支持的附件格式，请修改后再提交！\");\r\n            return;\r\n          }\r\n\r\n          let operationType = 1;\r\n          let cityEnterpriseType = this.cityEnterpriseType1;\r\n          // if(cityEnterpriseType && (cityEnterpriseType == 3 || cityEnterpriseType == 4)) {\r\n          if (cityEnterpriseType && cityEnterpriseType == 4) {\r\n            operationType = 2;\r\n          }\r\n          this.save(operationType);\r\n        } else {\r\n          console.log(\"base error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.box {\r\n  overflow-x: hidden;\r\n  .form {\r\n    position: relative;\r\n  }\r\n\r\n  .rowLabel {\r\n    & /deep/ .el-form-item__label {\r\n      text-align: center;\r\n      width: 100% !important;\r\n    }\r\n  }\r\n\r\n  .foot {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-bottom: 20px;\r\n  }\r\n  .saveBtn {\r\n    color: #fff;\r\n    background-color: #f0ad4e;\r\n    border-color: #eea236;\r\n    &.is-disabled {\r\n      background: #ccc;\r\n      border-color: #ccc;\r\n    }\r\n  }\r\n  .submitBtn {\r\n    color: #fff;\r\n    background-color: #5bc0de;\r\n    border-color: #46b8da;\r\n    &.is-disabled {\r\n      background: #ccc;\r\n      border-color: #ccc;\r\n    }\r\n  }\r\n\r\n  .personImg {\r\n    position: absolute;\r\n    right: 40px;\r\n    top: 0;\r\n    z-index: 10;\r\n    img {\r\n      width: 130px;\r\n      height: 188px;\r\n      margin-bottom: 5px;\r\n      padding: 4px;\r\n      line-height: 1.42857143;\r\n      background-color: #fff;\r\n      border: 1px solid #ddd;\r\n      border-radius: 4px;\r\n    }\r\n  }\r\n}\r\n.customUpLoad {\r\n  .uploadInput {\r\n    width: 700px;\r\n    & /deep/ .el-input__inner {\r\n      border: none !important;\r\n    }\r\n  }\r\n  .uploadTextarea {\r\n    width: 700px;\r\n    & /deep/ .el-textarea__inner {\r\n      border: none !important;\r\n    }\r\n  }\r\n  .uploadBtn {\r\n    color: #00a9ec;\r\n    margin-top: -5px;\r\n    cursor: pointer;\r\n    line-height: 20px;\r\n  }\r\n  .uploadBtn1 {\r\n    margin-left: 20px;\r\n    margin-right: 20px;\r\n  }\r\n}\r\n.demo-form-inline {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n}\r\n.form {\r\n  width: 900px;\r\n  margin: 0 auto;\r\n}\r\n/deep/.el-form-item__content {\r\n  text-align: left !important;\r\n}\r\n</style>"]}]}