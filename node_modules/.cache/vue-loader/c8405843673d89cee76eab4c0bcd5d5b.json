{"remainingRequest":"C:\\Users\\001\\Desktop\\人才大脑图片\\wxy\\王飞\\项目\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\001\\Desktop\\人才大脑图片\\wxy\\王飞\\项目\\web\\src\\views\\talentReport\\components\\YTlent.vue?vue&type=style&index=0&id=7a12a33e&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\001\\Desktop\\人才大脑图片\\wxy\\王飞\\项目\\web\\src\\views\\talentReport\\components\\YTlent.vue","mtime":1658367490918},{"path":"C:\\Users\\001\\Desktop\\人才大脑图片\\wxy\\王飞\\项目\\web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\001\\Desktop\\人才大脑图片\\wxy\\王飞\\项目\\web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\001\\Desktop\\人才大脑图片\\wxy\\王飞\\项目\\web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\001\\Desktop\\人才大脑图片\\wxy\\王飞\\项目\\web\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\001\\Desktop\\人才大脑图片\\wxy\\王飞\\项目\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\001\\Desktop\\人才大脑图片\\wxy\\王飞\\项目\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmZvb3Qgew0KICBkaXNwbGF5OiBmbGV4Ow0KICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgLmJ0biB7DQogICAgcGFkZGluZzogMTBweCAyMHB4Ow0KICAgIGJhY2tncm91bmQ6IHJnYmEoMjIsIDE1NSwgMjEzLCAxKTsNCiAgICBjb2xvcjogI2ZmZjsNCiAgICBib3JkZXItcmFkaXVzOiA1cHg7DQogICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICYubXI1MCB7DQogICAgICBtYXJnaW4tcmlnaHQ6IDUwcHg7DQogICAgfQ0KICAgICYuZGlzYWJsZWQgew0KICAgICAgYmFja2dyb3VuZDogI2NjYzsNCiAgICAgIGN1cnNvcjogbm90LWFsbG93ZWQ7DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["YTlent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"YTlent.vue","sourceRoot":"src/views/talentReport/components","sourcesContent":["<template>\r\n  <div class=\"\">\r\n    <div class=\"newslist ql-editor \" v-if=\"visible\">\r\n      <div class=\"tle\" style=\"text-align: center;margin-top: 10px;\">\r\n        <h3>{{title}}</h3>\r\n      </div>\r\n      <div\r\n        class=\"content yTlent\"\r\n        style=\"padding: 10px 15px 10px 15px;line-height: 30px;\"\r\n        v-html=\"contents\"\r\n      >\r\n      </div>\r\n      <div class=\"foot\">\r\n        <div class=\"btn\" @click=\"toDeclare($event)\">在线申报</div>\r\n      </div>\r\n    </div>\r\n    <div v-else style=\"text-align:left;\">\r\n      <innovate></innovate>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {getArticle, cityCheck} from '../../../api/talentReport.js';\r\nimport yound from './yound.vue';\r\nimport innovate from './innovate.vue';\r\nimport { getId } from \"@/utils/auth\";\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      title: '',\r\n      contents: '',\r\n      visible: true, // 是否显示表格\r\n    }\r\n  },\r\n  components: {\r\n    yound,\r\n    innovate,\r\n  },\r\n  created() {\r\n    if(this.$route.query.tag) {\r\n      this.visible = false\r\n      this.tag = this.$route.query.tag\r\n    }\r\n    this.query()\r\n  },\r\n  computed: {\r\n    ...mapState([\"userInfo\"]),\r\n  },\r\n  mounted() {\r\n    // 计算满屏高度\r\n    // setTimeout(() => {\r\n    //   this.calcFullHeight()\r\n    // }, 500)\r\n  },\r\n  methods: {\r\n    query() {\r\n      getArticle('1141292b-18d8-459c-972d-1fcf9721c4ea').then(res => {\r\n        console.log(res);\r\n        if(res?.data) {\r\n          let d = res.data\r\n          this.title = d.title\r\n          this.contents = d.contents\r\n        }\r\n      })\r\n    },\r\n    calcFullHeight() {\r\n      let h = document.documentElement.clientHeight\r\n      let headH = document.querySelector('.header-wrapper').clientHeight\r\n      let footH = document.querySelector('footer').clientHeight\r\n      let eHead = document.querySelector('.el-header').clientHeight\r\n\r\n      // document.querySelector('.yTlent').style.height = (h - headH - footH - eHead - 102) + 'px'\r\n      document.querySelector('.yTlent').style.height = (h - headH - footH - eHead - 65) + 'px'\r\n    },\r\n    toDeclare(e) {\r\n      let dom = e.target\r\n      if(dom.classList.contains('disabled')) return\r\n      // this.visible = false\r\n\r\n      if(!this.userInfo) {\r\n        this.$confirm(\"当前用户还未登录，请先登录\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        showCancelButton: false,\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          this.$router.push({\r\n            name: \"login\",\r\n            query: {\r\n              redirect: \"yTlent\"\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {});\r\n\r\n        return\r\n      }\r\n\r\n      cityCheck({\r\n        userId: getId(),\r\n        type: 'YXQNRC'\r\n      }).then(res => {\r\n        if(res?.code == 200) {\r\n          let id = res.data?.talent?.id\r\n          let cityEnterpriseType = res.data?.enterprise?.cityEnterpriseType\r\n          let type = 'YXQNRC'\r\n          let districtName = res.data?.enterprise?.districtName\r\n          let name = res.data?.enterprise?.name\r\n\r\n          this.$router.replace({\r\n            name: 'yTlent',\r\n            query: {\r\n              tag: 1,\r\n              talentId: id,\r\n              cityEnterpriseType,\r\n              type,\r\n              districtName,\r\n              name\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.foot {\r\n  display: flex;\r\n  justify-content: center;\r\n  .btn {\r\n    padding: 10px 20px;\r\n    background: rgba(22, 155, 213, 1);\r\n    color: #fff;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    &.mr50 {\r\n      margin-right: 50px;\r\n    }\r\n    &.disabled {\r\n      background: #ccc;\r\n      cursor: not-allowed;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}