{"remainingRequest":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\src\\views\\personal\\components\\unVenture1.vue?vue&type=style&index=0&id=7f293c4a&lang=scss&scoped=true&","dependencies":[{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\src\\views\\personal\\components\\unVenture1.vue","mtime":1658367490884},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5mb3JtIHsNCiAgLm1lcmdlQ29sMyB7DQogICAgJiAvZGVlcC8gLmVsLWlucHV0IHsNCiAgICAgIHdpZHRoOiA1NjBweDsNCiAgICAgIG1hcmdpbi1yaWdodDogMjBweDsNCiAgICB9DQogICAgc3BhbiB7DQogICAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7DQogICAgfQ0KICB9DQoNCiAgLy8gLmN1c3RvbVVwTG9hZCB7DQogIC51cGxvYWRJbnB1dCB7DQogICAgd2lkdGg6IDUwMHB4Ow0KICAgICYgL2RlZXAvIC5lbC1pbnB1dF9faW5uZXIgew0KICAgICAgYm9yZGVyOiBub25lOw0KICAgIH0NCiAgfQ0KICAudXBsb2FkQnRuIHsNCiAgICBjb2xvcjogIzAwYTllYzsNCiAgICBtYXJnaW4tdG9wOiA1cHg7DQoNCiAgICBjdXJzb3I6IHBvaW50ZXI7DQogIH0NCiAgLnVwbG9hZEJ0bjEgew0KICAgIG1hcmdpbi1sZWZ0OiAyMHB4Ow0KICB9DQogIC8vIH0NCg0KICAuZm9vdCB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICAgIC5zYXZlQnRuIHsNCiAgICAgIGNvbG9yOiAjZmZmOw0KICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YwYWQ0ZTsNCiAgICAgIGJvcmRlci1jb2xvcjogI2VlYTIzNjsNCiAgICB9DQogICAgLnN1Ym1pdEJ0biB7DQogICAgICBjb2xvcjogI2ZmZjsNCiAgICAgIGJhY2tncm91bmQtY29sb3I6ICM1YmMwZGU7DQogICAgICBib3JkZXItY29sb3I6ICM0NmI4ZGE7DQogICAgfQ0KICB9DQp9DQouZGVtby1mb3JtLWlubGluZSB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBoZWlnaHQ6IDEwMHZoOw0KfQ0KLmZvcm0gew0KICB3aWR0aDogOTAwcHg7DQogIG1hcmdpbjogMCBhdXRvOw0KfQ0KL2RlZXAvLmVsLWZvcm0taXRlbV9fY29udGVudCB7DQogIHRleHQtYWxpZ246IGxlZnQgIWltcG9ydGFudDsNCn0NCg=="},{"version":3,"sources":["unVenture1.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"unVenture1.vue","sourceRoot":"src/views/personal/components","sourcesContent":["<template>\r\n  <div class=\"con\">\r\n    <!--头部查询 -->\r\n    <el-form\r\n      v-if=\"initPage\"\r\n      :inline=\"true\"\r\n      :model=\"formInline\"\r\n      class=\"demo-form-inline\"\r\n    >\r\n      <el-form-item label=\"ID\">\r\n        <el-input v-model=\"formInline.id\" placeholder=\"请输入ID\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit\">查询</el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <!-- 非创投机构推荐 -->\r\n    <div class=\"form\" v-else>\r\n      <el-form\r\n        class=\"form\"\r\n        ref=\"form\"\r\n        :model=\"form\"\r\n        :rules=\"rules\"\r\n        label-width=\"200px\"\r\n      >\r\n        <el-form-item label=\"单位名称：\">\r\n          <span>{{ form.name }}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"单位性质：\" prop=\"type\">\r\n          <el-select\r\n            v-model=\"form.type\"\r\n            placeholder=\"请选择\"\r\n            :disabled=\"disabled\"\r\n          >\r\n            <el-option\r\n              label=\"国有(控股企业)\"\r\n              value=\"国有(控股企业)\"\r\n            ></el-option>\r\n            <el-option label=\"外资企业\" value=\"外资企业\"></el-option>\r\n            <el-option label=\"合资企业\" value=\"合资企业\"></el-option>\r\n            <el-option\r\n              label=\"民营(私营)企业\"\r\n              value=\"民营(私营)企业\"\r\n            ></el-option>\r\n            <el-option label=\"事业单位\" value=\"事业单位\"></el-option>\r\n            <el-option\r\n              label=\"其他(市属企事业单位及高校院所)\"\r\n              value=\"其他(市属企事业单位及高校院所)\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"法人代表：\">\r\n          <span>{{ form.represent }}</span>\r\n        </el-form-item>\r\n        <el-form-item label=\"单位地址：\" prop=\"address\">\r\n          <el-input :disabled=\"disabled\" v-model=\"form.address\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"人事部门负责人：\" prop=\"contactor\">\r\n          <el-input :disabled=\"disabled\" v-model=\"form.contactor\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系方式：\" prop=\"contactorMobile\">\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            v-model=\"form.contactorMobile\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"单位注册时间：\" prop=\"registerDate\">\r\n          <el-date-picker\r\n            :disabled=\"disabled\"\r\n            v-model=\"form.registerDate\"\r\n            type=\"date\"\r\n            value-format=\"yyyy-MM-dd\"\r\n            placeholder=\"请选择日期\"\r\n          >\r\n          </el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"实到注册资金（万元）：\" prop=\"registerCapitcal\">\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            v-model=\"form.registerCapitcal\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"是否上市：\" prop=\"isOnsale\">\r\n          <el-radio-group v-model=\"form.isOnsale\" :disabled=\"disabled\">\r\n            <el-radio :label=\"1\">是</el-radio>\r\n            <el-radio :label=\"0\">否</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"是否高新企业：\" prop=\"isHighTech\">\r\n          <el-radio-group v-model=\"form.isHighTech\" :disabled=\"disabled\">\r\n            <el-radio :label=\"1\">是</el-radio>\r\n            <el-radio :label=\"0\">否</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"主营业务：\" prop=\"major\">\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            type=\"textarea\"\r\n            v-model=\"form.major\"\r\n            :rows=\"5\"\r\n            placeholder=\"请输入...\"\r\n          ></el-input>\r\n          <!-- <quill-editor\r\n            v-model=\"form.major\"\r\n            ref=\"myQuillEditor1\"\r\n            :options=\"editorOption1\"\r\n            class=\"quill\"\r\n          >\r\n          </quill-editor> -->\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"经营情况:\" class=\"mergeCol3\">\r\n          <span style=\"width: 200px; display: inline-block\"\r\n            >2019年（万元）</span\r\n          >\r\n          <span style=\"width: 200px; display: inline-block\"\r\n            >2020年（万元）</span\r\n          >\r\n          <span style=\"width: 200px; display: inline-block\"\r\n            >2021年--申报当月（万元）</span\r\n          >\r\n        </el-form-item>\r\n        <el-form-item label=\"主营业务收入:\" class=\"mergeCol3\" prop=\"agoSale\">\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            style=\"width: 200px\"\r\n            type=\"text\"\r\n            v-model=\"form.agoSale\"\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            style=\"width: 200px\"\r\n            type=\"text\"\r\n            v-model=\"form.blastSale\"\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            style=\"width: 200px\"\r\n            type=\"text\"\r\n            v-model=\"form.lastSale\"\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"净利润:\" class=\"mergeCol3\" prop=\"agoProfit\">\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            style=\"width: 200px\"\r\n            type=\"text\"\r\n            v-model=\"form.agoProfit\"\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            style=\"width: 200px\"\r\n            type=\"text\"\r\n            v-model=\"form.blastProfit\"\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            style=\"width: 200px\"\r\n            type=\"text\"\r\n            v-model=\"form.lastProfit\"\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"研发投入:\" class=\"mergeCol3\" prop=\"agoDev\">\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            style=\"width: 200px\"\r\n            type=\"text\"\r\n            v-model=\"form.agoDev\"\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            style=\"width: 200px\"\r\n            type=\"text\"\r\n            v-model=\"form.blastDev\"\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            style=\"width: 200px\"\r\n            type=\"text\"\r\n            v-model=\"form.lastDev\"\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"纳税:\" class=\"mergeCol3\" prop=\"agoTax\">\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            style=\"width: 200px\"\r\n            type=\"text\"\r\n            v-model=\"form.agoTax\"\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            style=\"width: 200px\"\r\n            type=\"text\"\r\n            v-model=\"form.blastTax\"\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            style=\"width: 200px\"\r\n            type=\"text\"\r\n            v-model=\"form.lastTax\"\r\n            placeholder=\"0\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <div>\r\n          <div\r\n            style=\"margin-left: 105px; margin-top: 20px; margin-bottom: 20px\"\r\n          >\r\n            人才规模\r\n          </div>\r\n          <el-form-item label=\"单位总人数：\" prop=\"totalCount\">\r\n            <el-input\r\n              :disabled=\"disabled\"\r\n              v-model.number=\"form.totalCount\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"本科人数：\" prop=\"regularCount\">\r\n            <el-input\r\n              :disabled=\"disabled\"\r\n              v-model.number=\"form.regularCount\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"硕士人数：\" prop=\"masterCount\">\r\n            <el-input\r\n              :disabled=\"disabled\"\r\n              v-model.number=\"form.masterCount\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"博士人数：\" prop=\"doctorCount\">\r\n            <el-input\r\n              :disabled=\"disabled\"\r\n              v-model.number=\"form.doctorCount\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"有国外留学或工作经验人数：\" prop=\"abroadCount\">\r\n            <el-input\r\n              :disabled=\"disabled\"\r\n              v-model.number=\"form.abroadCount\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"副高以上职称人数：\" prop=\"senioTitleCount\">\r\n            <el-input\r\n              :disabled=\"disabled\"\r\n              v-model.number=\"form.senioTitleCount\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item\r\n            label=\"入选国家，省，市人才计划人数：\"\r\n            prop=\"expertProgramCount\"\r\n          >\r\n            <el-input\r\n              :disabled=\"disabled\"\r\n              v-model.number=\"form.expertProgramCount\"\r\n            ></el-input>\r\n          </el-form-item>\r\n        </div>\r\n\r\n        <el-form-item label=\"单位简介：\" prop=\"memo\">\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            maxlength=\"200\"\r\n            type=\"textarea\"\r\n            v-model=\"form.memo\"\r\n            :rows=\"5\"\r\n            placeholder=\"请输入200字以内\"\r\n          ></el-input>\r\n          <!-- <quill-editor\r\n            v-model=\"form.memo\"\r\n            ref=\"myQuillEditor2\"\r\n            :options=\"editorOption2\"\r\n            class=\"quill\"\r\n          >\r\n          </quill-editor> -->\r\n        </el-form-item>\r\n        <el-form-item label=\"创新实力：\" prop=\"idea\">\r\n          <el-input\r\n            :disabled=\"disabled\"\r\n            type=\"textarea\"\r\n            v-model=\"form.idea\"\r\n            :rows=\"5\"\r\n            placeholder=\"（单位研发平台建设情况、产学研合作情况、核心技术及市场前景等）\"\r\n          ></el-input>\r\n          <!-- <quill-editor\r\n            v-model=\"form.idea\"\r\n            ref=\"myQuillEditor3\"\r\n            :options=\"editorOption3\"\r\n            class=\"quill\"\r\n          >\r\n          </quill-editor> -->\r\n        </el-form-item>\r\n\r\n        <!-- <el-form-item label=\"引进人才工资性年收入（万元）：\" prop=\"talentIncome\">\r\n          <el-input :disabled=\"disabled\" v-model=\"form.talentIncome\"></el-input>\r\n        </el-form-item> -->\r\n        <file-upload\r\n          label=\"研发投入和纳税情况财务报表（经第三方审计）:\"\r\n          :disabled=\"disabled\"\r\n          :enterpriseId=\"componyInfo && componyInfo.id\"\r\n          prop=\"sndqycwbb\"\r\n          :model=\"form.sndqycwbb\"\r\n          @fileChange=\"(e) => fileChange(e, 'sndqycwbb')\"\r\n        >\r\n        </file-upload>\r\n        <div class=\"fileTest\" style=\"color: #ccc; margin-bottom: 30px\">\r\n          注意：上传附件类型支持doc、jpg、png、jpeg、pdf，不支持docx、rar\r\n        </div>\r\n        <div class=\"foot\">\r\n          <el-button @click=\"save\" class=\"saveBtn\">保存</el-button>\r\n          <el-button @click=\"submit\" class=\"submitBtn\">提交</el-button>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport FileMixins from \"./FileMixins.js\";\r\nimport fileUpload from \"./fileUpload.vue\";\r\n// import { quillEditor } from \"vue-quill-editor\"; //调用编辑器\r\n// import \"quill/dist/quill.core.css\";\r\n// import \"quill/dist/quill.snow.css\";\r\n// import \"quill/dist/quill.bubble.css\";\r\nimport {\r\n  getEnterpriseAttachmentCity,\r\n  getTalentData,\r\n  saveEditCompany1,\r\n} from \"@/api/personal\";\r\nexport default {\r\n  mixins: [FileMixins],\r\n  components: {\r\n    fileUpload,\r\n    // quillEditor,\r\n  },\r\n  props: {},\r\n  data() {\r\n    let that = this;\r\n    const agoSaleValidator = (rule, value, callback) => {\r\n      let { agoSale, blastSale, lastSale } = that.form;\r\n      if (agoSale === \"\" || blastSale === \"\" || lastSale === \"\") {\r\n        callback(new Error(\"请输入\"));\r\n      } else {\r\n        if (\r\n          parseFloat(agoSale) == agoSale &&\r\n          parseFloat(blastSale) == blastSale &&\r\n          parseFloat(lastSale) == lastSale\r\n        ) {\r\n          callback();\r\n        } else {\r\n          callback(new Error(\"请输入数字\"));\r\n        }\r\n      }\r\n    };\r\n    const agoProfitValidator = (rule, value, callback) => {\r\n      let { agoProfit, blastProfit, lastProfit } = that.form;\r\n      if (agoProfit === \"\" || blastProfit === \"\" || lastProfit === \"\") {\r\n        callback(new Error(\"请输入\"));\r\n      } else {\r\n        if (\r\n          parseFloat(agoProfit) == agoProfit &&\r\n          parseFloat(blastProfit) == blastProfit &&\r\n          parseFloat(lastProfit) == lastProfit\r\n        ) {\r\n          callback();\r\n        } else {\r\n          callback(new Error(\"请输入数字\"));\r\n        }\r\n      }\r\n    };\r\n    const agoDevValidator = (rule, value, callback) => {\r\n      let { agoDev, blastDev, lastDev } = that.form;\r\n      if (agoDev === \"\" || blastDev === \"\" || lastDev === \"\") {\r\n        callback(new Error(\"请输入\"));\r\n      } else {\r\n        if (\r\n          parseFloat(agoDev) == agoDev &&\r\n          parseFloat(blastDev) == blastDev &&\r\n          parseFloat(lastDev) == lastDev\r\n        ) {\r\n          callback();\r\n        } else {\r\n          callback(new Error(\"请输入数字\"));\r\n        }\r\n      }\r\n    };\r\n    const agoTaxValidator = (rule, value, callback) => {\r\n      let { agoTax, blastTax, lastTax } = that.form;\r\n      if (agoTax === \"\" || blastTax === \"\" || lastTax === \"\") {\r\n        callback(new Error(\"请输入\"));\r\n      } else {\r\n        if (\r\n          parseFloat(agoTax) == agoTax &&\r\n          parseFloat(blastTax) == blastTax &&\r\n          parseFloat(lastTax) == lastTax\r\n        ) {\r\n          callback();\r\n        } else {\r\n          callback(new Error(\"请输入数字\"));\r\n        }\r\n      }\r\n    };\r\n    // const modules = {\r\n    //   modules: {\r\n    //     toolbar: [\r\n    //       [\"bold\", \"italic\", \"underline\"],\r\n    //       [{ header: 1 }, { header: 2 }],\r\n    //       [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n    //       [{ script: \"sub\" }, { script: \"super\" }],\r\n    //       [{ size: [\"small\", false, \"large\", \"huge\"] }],\r\n    //       [{ header: [1, 2, 3, 4, 5, 6, false] }],\r\n    //       [{ color: [] }, { background: [] }],\r\n    //     ],\r\n    //   },\r\n    // };\r\n    return {\r\n      initPage: true,\r\n      formInline: {\r\n        id: \"\",\r\n      },\r\n      representType: \"\",\r\n      cityEnterpriseType: \"\",\r\n      form: {\r\n        cityEnterpriseType: 1, //市级企业类型  1.企业  2.重点实验室  3.重点高校  4.湖北实验室\r\n        representType: 1, //法人代表类型  1.创投机构  2.非创投机构\r\n        name: \"\", //单位名称\r\n        type: \"\", //单位性质    国有(控股企业)  外资企业  合资企业  民营(私营)企业  事业单位  其他(市属企事业单位及高校院所)\r\n        represent: \"\", //法人代表\r\n        address: \"\", //单位地址\r\n        contactor: \"\", //人事部门负责人\r\n        contactorMobile: \"\", //联系方式\r\n        registerDate: \"\", //注册时间\r\n        registerCapitcal: \"\", //实到注册资金（万元）\r\n        isOnsale: \"\", //是否上市  0否1是\r\n        isHighTech: \"\", //是否高新企业  0否1是\r\n        major: \"\", //主营业务\r\n        agoSale: \"\", //主营业务收入-2019\r\n        blastSale: \"\", //主营业务收入-2020\r\n        lastSale: \"\", //主营业务收入-2021\r\n        agoProfit: \"\", //净利润-2019\r\n        blastProfit: \"\", //净利润-2020\r\n        lastProfit: \"\", //净利润-2021\r\n        agoDev: \"\", //研发投入-2019\r\n        blastDev: \"\", //研发投入-2020\r\n        lastDev: \"\", //研发投入-2021\r\n        agoTax: \"\", //纳税-2019\r\n        blastTax: \"\", //纳税-2020\r\n        lastTax: \"\", //纳税-2021\r\n        totalCount: \"\", //单位总人数\r\n        regularCount: \"\", //本科人数\r\n        masterCount: \"\", //硕士人数\r\n        doctorCount: \"\", //博士人数\r\n        abroadCount: \"\", //有国外留学或工作经验人数人数\r\n        senioTitleCount: \"\", //副高以上职称人数\r\n        expertProgramCount: \"\", //入选国家，省，市人才计划人数\r\n        memo: \"\", //单位简介\r\n        idea: \"\", //创新实力\r\n        talentIncome: \"\", //引进人才工资性年收入（万元）\r\n        sndqycwbb: \"\", // 文件：研发投入和纳税情况财务报表（经第三方审计）\r\n      },\r\n      rules: {\r\n        type: [{ required: true, message: \"请选择\", trigger: \"change\" }], //单位性质    国有(控股企业)  外资企业  合资企业  民营(私营)企业  事业单位  其他(市属企事业单位及高校院所)\r\n        address: [{ required: true, message: \"请输入\", trigger: \"blur\" }], //单位地址\r\n        contactor: [{ required: true, message: \"请输入\", trigger: \"blur\" }], //人事部门负责人\r\n        contactorMobile: [\r\n          { required: true, message: \"请输入\", trigger: \"blur\" },\r\n        ], //联系方式\r\n        registerDate: [\r\n          { required: true, message: \"请选择\", trigger: \"change\" },\r\n        ], //注册时间\r\n        registerCapitcal: [\r\n          { required: true, message: \"请输入\", trigger: \"blur\" },\r\n        ], //实到注册资金（万元）\r\n        isOnsale: [{ required: true, message: \"请选择\", trigger: \"change\" }], //是否上市  0否1是\r\n        isHighTech: [{ required: true, message: \"请选择\", trigger: \"change\" }], //是否高新企业  0否1是\r\n        major: [{ required: true, message: \"请输入\", trigger: \"blur\" }], //主营业务\r\n        totalCount: [\r\n          { required: true, message: \"请输入\", trigger: \"blur\" },\r\n          { type: \"number\", message: \"必须为数字值\" },\r\n        ], //单位总人数\r\n        regularCount: [\r\n          { required: true, message: \"请输入\", trigger: \"blur\" },\r\n          { type: \"number\", message: \"必须为数字值\" },\r\n        ], //本科人数\r\n        masterCount: [\r\n          { required: true, message: \"请输入\", trigger: \"blur\" },\r\n          { type: \"number\", message: \"必须为数字值\" },\r\n        ], //硕士人数\r\n        doctorCount: [\r\n          { required: true, message: \"请输入\", trigger: \"blur\" },\r\n          { type: \"number\", message: \"必须为数字值\" },\r\n        ], //博士人数\r\n        abroadCount: [\r\n          { required: true, message: \"请输入\", trigger: \"blur\" },\r\n          { type: \"number\", message: \"必须为数字值\" },\r\n        ], //有国外留学或工作经验人数人数\r\n        senioTitleCount: [\r\n          { required: true, message: \"请输入\", trigger: \"blur\" },\r\n          { type: \"number\", message: \"必须为数字值\" },\r\n        ], //副高以上职称人数\r\n        expertProgramCount: [\r\n          { required: true, message: \"请输入\", trigger: \"blur\" },\r\n          { type: \"number\", message: \"必须为数字值\" },\r\n        ], //入选国家，省，市人才计划人数\r\n        memo: [{ required: true, message: \"请输入\", trigger: \"blur\" }], //单位简介\r\n        idea: [{ required: true, message: \"请输入\", trigger: \"blur\" }], //创新实力\r\n        talentIncome: [{ required: true, message: \"请输入\", trigger: \"blur\" }], //引进人才工资性年收入（万元）\r\n        sndqycwbb: [{ required: true, message: \"请输入\", trigger: \"blur\" }], //引进人才工资性年收入（万元）\r\n\r\n        agoSale: [\r\n          { required: true, validator: agoSaleValidator, trigger: \"blur\" },\r\n        ],\r\n        agoProfit: [\r\n          { required: true, validator: agoProfitValidator, trigger: \"blur\" },\r\n        ],\r\n        agoDev: [\r\n          { required: true, validator: agoDevValidator, trigger: \"blur\" },\r\n        ],\r\n        agoTax: [\r\n          { required: true, validator: agoTaxValidator, trigger: \"blur\" },\r\n        ],\r\n      },\r\n      // editorOption1: {\r\n      //   placeholder: `请输入`,\r\n      //   ...modules,\r\n      // },\r\n      // editorOption2: {\r\n      //   placeholder: `请输入200字以内`,\r\n      //   ...modules,\r\n      // },\r\n      // editorOption3: {\r\n      //   placeholder: `（单位研发平台建设情况、产学研合作情况、核心技术及市场前景等）`,\r\n      //   ...modules,\r\n      // },\r\n    };\r\n  },\r\n  methods: {\r\n    // 查询\r\n    onSubmit() {\r\n      this.queryData(this.formInline.id);\r\n      this.initPage = false;\r\n    },\r\n    queryData(id) {\r\n      let that = this;\r\n      // let id = this.$route.query.talentId;\r\n      let f = this.form;\r\n      if (!id) {\r\n        let { name, mobile, idNumber } = this.userInfo;\r\n        f.name = name;\r\n        f.mobile = mobile;\r\n        f.idNumber = idNumber;\r\n\r\n        // this.companyName = this.$route.query.name;\r\n        // this.org = this.$route.query.districtName;\r\n\r\n        this.$nextTick(() => {\r\n          this.$refs.form.resetFields();\r\n        });\r\n        return;\r\n      }\r\n      let url = `/gateway/accountserver/frontend/db/enterpriseCount/getCompanyById?id=${id}`;\r\n      getTalentData(url).then((res) => {\r\n        console.log(res);\r\n        that.form = res;\r\n      });\r\n    },\r\n    async save() {\r\n      let form = Object.assign(this.form, {\r\n        status: 0,\r\n        representType: this.representType,\r\n        cityEnterpriseType: this.cityEnterpriseType,\r\n      });\r\n      let saveResp;\r\n      if (form) {\r\n        saveResp = await saveEditCompany1(form);\r\n        if (saveResp.code != 200) return;\r\n      }\r\n      this.$message.success(saveResp?.msg);\r\n    },\r\n    async fetchAttachmentData() {\r\n      if (this.componyInfo?.id) {\r\n        let resp = await getEnterpriseAttachmentCity({\r\n          id: this.componyInfo?.id,\r\n        });\r\n        let list = resp?.data.map((i) => {\r\n          i.type = i.type.toLowerCase();\r\n          return i;\r\n        });\r\n        list.map((item) => {\r\n          if (this.form.hasOwnProperty(item.type)) {\r\n            this.form[item.type] = item.name;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    checkAttaType() {\r\n      let t = [\"doc\", \"jpg\", \"jpeg\", \"png\", \"pdf\"];\r\n      let f = true;\r\n      let n = \"\";\r\n      n = this.form?.sndqycwbb?.split(\".\");\r\n      f = t.includes(n[1]);\r\n      if (!f) return false;\r\n\r\n      return f;\r\n    },\r\n    submit() {\r\n      this.$refs.form.validate((valid) => {\r\n        if (valid) {\r\n          // 校验附件类型\r\n          if (!this.checkAttaType()) {\r\n            this.$message.warning(\"当前存在不支持的附件格式，请修改后再提交！\");\r\n            return;\r\n          }\r\n\r\n          Object.assign(this.form, {\r\n            status: 1,\r\n            representType: this.representType,\r\n            cityEnterpriseType: this.cityEnterpriseType,\r\n          });\r\n          let attachmentData = this.getAttachmentFormData();\r\n          this.$emit(\"recommendSaveEdit\", { form: this.form, attachmentData });\r\n        }\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    setTimeout(() => {\r\n      let trans = {\r\n        isOnsale: this.componyInfo?.isOnsale ? 1 : 0,\r\n        isHighTech: this.componyInfo?.isHighTech ? 1 : 0,\r\n        // cityEnterpriseType: 1,  //市级企业类型  1.企业  2.重点实验室  3.重点高校  4.湖北实验室\r\n        // representType: 2  //法人代表类型  1.创投机构  2.非创投机构\r\n      };\r\n      Object.assign(this.form, this.componyInfo, trans, {});\r\n      this.fetchAttachmentData();\r\n    }, 1000);\r\n  },\r\n  computed: {\r\n    ...mapState([\"componyInfo\"]),\r\n    disabled() {\r\n      let status = this.componyInfo?.status;\r\n      let disabledStatusArr = [\"1\", \"2\", \"3\"];\r\n      let isDisabled = disabledStatusArr.includes(status);\r\n      return isDisabled;\r\n    },\r\n  },\r\n  watch: {\r\n    type1: {\r\n      handler(val) {\r\n        let type = this.type1;\r\n        let map = [\r\n          { type: \"非创投机构推荐\", representType: 2 },\r\n          { type: \"创投机构推荐\", representType: 1 },\r\n        ];\r\n        let find = map.find((i) => i.type == type);\r\n        let representType = find ? find.representType : 2;\r\n        this.representType = representType;\r\n      },\r\n      immediate: true,\r\n      deep: true,\r\n    },\r\n    type: {\r\n      handler(val) {\r\n        let type = this.type;\r\n        let map = [\r\n          { type: \"企事业单位\", cityEnterpriseType: 1 },\r\n          { type: \"重点实验室\", cityEnterpriseType: 2 },\r\n          { type: \"重点高校\", cityEnterpriseType: 3 },\r\n          // { type: '湖北实验室', cityEnterpriseType: 4 }\r\n          { type: \"湖北实验室/国家重点实验室\", cityEnterpriseType: 4 },\r\n        ];\r\n        let find = map.find((i) => i.type == type);\r\n        let cityEnterpriseType = find ? find.cityEnterpriseType : 2;\r\n        this.cityEnterpriseType = cityEnterpriseType;\r\n      },\r\n      immediate: true,\r\n      deep: true,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.form {\r\n  .mergeCol3 {\r\n    & /deep/ .el-input {\r\n      width: 560px;\r\n      margin-right: 20px;\r\n    }\r\n    span {\r\n      margin-right: 20px;\r\n    }\r\n  }\r\n\r\n  // .customUpLoad {\r\n  .uploadInput {\r\n    width: 500px;\r\n    & /deep/ .el-input__inner {\r\n      border: none;\r\n    }\r\n  }\r\n  .uploadBtn {\r\n    color: #00a9ec;\r\n    margin-top: 5px;\r\n\r\n    cursor: pointer;\r\n  }\r\n  .uploadBtn1 {\r\n    margin-left: 20px;\r\n  }\r\n  // }\r\n\r\n  .foot {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-bottom: 20px;\r\n    .saveBtn {\r\n      color: #fff;\r\n      background-color: #f0ad4e;\r\n      border-color: #eea236;\r\n    }\r\n    .submitBtn {\r\n      color: #fff;\r\n      background-color: #5bc0de;\r\n      border-color: #46b8da;\r\n    }\r\n  }\r\n}\r\n.demo-form-inline {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n}\r\n.form {\r\n  width: 900px;\r\n  margin: 0 auto;\r\n}\r\n/deep/.el-form-item__content {\r\n  text-align: left !important;\r\n}\r\n</style>"]}]}