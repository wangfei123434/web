{"remainingRequest":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\src\\views\\talentReport\\components\\YTlent.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\src\\views\\talentReport\\components\\YTlent.vue","mtime":1658367490918},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2dldEFydGljbGUsIGNpdHlDaGVja30gZnJvbSAnLi4vLi4vLi4vYXBpL3RhbGVudFJlcG9ydC5qcyc7DQppbXBvcnQgeW91bmQgZnJvbSAnLi95b3VuZC52dWUnOw0KaW1wb3J0IGlubm92YXRlIGZyb20gJy4vaW5ub3ZhdGUudnVlJzsNCmltcG9ydCB7IGdldElkIH0gZnJvbSAiQC91dGlscy9hdXRoIjsNCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGl0bGU6ICcnLA0KICAgICAgY29udGVudHM6ICcnLA0KICAgICAgdmlzaWJsZTogdHJ1ZSwgLy8g5piv5ZCm5pi+56S66KGo5qC8DQogICAgfQ0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgeW91bmQsDQogICAgaW5ub3ZhdGUsDQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgaWYodGhpcy4kcm91dGUucXVlcnkudGFnKSB7DQogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZQ0KICAgICAgdGhpcy50YWcgPSB0aGlzLiRyb3V0ZS5xdWVyeS50YWcNCiAgICB9DQogICAgdGhpcy5xdWVyeSgpDQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwU3RhdGUoWyJ1c2VySW5mbyJdKSwNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICAvLyDorqHnrpfmu6HlsY/pq5jluqYNCiAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAvLyAgIHRoaXMuY2FsY0Z1bGxIZWlnaHQoKQ0KICAgIC8vIH0sIDUwMCkNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHF1ZXJ5KCkgew0KICAgICAgZ2V0QXJ0aWNsZSgnMTE0MTI5MmItMThkOC00NTljLTk3MmQtMWZjZjk3MjFjNGVhJykudGhlbihyZXMgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICBpZihyZXM/LmRhdGEpIHsNCiAgICAgICAgICBsZXQgZCA9IHJlcy5kYXRhDQogICAgICAgICAgdGhpcy50aXRsZSA9IGQudGl0bGUNCiAgICAgICAgICB0aGlzLmNvbnRlbnRzID0gZC5jb250ZW50cw0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0sDQogICAgY2FsY0Z1bGxIZWlnaHQoKSB7DQogICAgICBsZXQgaCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQNCiAgICAgIGxldCBoZWFkSCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oZWFkZXItd3JhcHBlcicpLmNsaWVudEhlaWdodA0KICAgICAgbGV0IGZvb3RIID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignZm9vdGVyJykuY2xpZW50SGVpZ2h0DQogICAgICBsZXQgZUhlYWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZWwtaGVhZGVyJykuY2xpZW50SGVpZ2h0DQoNCiAgICAgIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy55VGxlbnQnKS5zdHlsZS5oZWlnaHQgPSAoaCAtIGhlYWRIIC0gZm9vdEggLSBlSGVhZCAtIDEwMikgKyAncHgnDQogICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcueVRsZW50Jykuc3R5bGUuaGVpZ2h0ID0gKGggLSBoZWFkSCAtIGZvb3RIIC0gZUhlYWQgLSA2NSkgKyAncHgnDQogICAgfSwNCiAgICB0b0RlY2xhcmUoZSkgew0KICAgICAgbGV0IGRvbSA9IGUudGFyZ2V0DQogICAgICBpZihkb20uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXNhYmxlZCcpKSByZXR1cm4NCiAgICAgIC8vIHRoaXMudmlzaWJsZSA9IGZhbHNlDQoNCiAgICAgIGlmKCF0aGlzLnVzZXJJbmZvKSB7DQogICAgICAgIHRoaXMuJGNvbmZpcm0oIuW9k+WJjeeUqOaIt+i/mOacqueZu+W9le+8jOivt+WFiOeZu+W9lSIsICLmj5DnpLoiLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwNCiAgICAgICAgc2hvd0NhbmNlbEJ1dHRvbjogZmFsc2UsDQogICAgICAgIHR5cGU6ICJ3YXJuaW5nIg0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICAgIG5hbWU6ICJsb2dpbiIsDQogICAgICAgICAgICBxdWVyeTogew0KICAgICAgICAgICAgICByZWRpcmVjdDogInlUbGVudCINCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsNCg0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCg0KICAgICAgY2l0eUNoZWNrKHsNCiAgICAgICAgdXNlcklkOiBnZXRJZCgpLA0KICAgICAgICB0eXBlOiAnWVhRTlJDJw0KICAgICAgfSkudGhlbihyZXMgPT4gew0KICAgICAgICBpZihyZXM/LmNvZGUgPT0gMjAwKSB7DQogICAgICAgICAgbGV0IGlkID0gcmVzLmRhdGE/LnRhbGVudD8uaWQNCiAgICAgICAgICBsZXQgY2l0eUVudGVycHJpc2VUeXBlID0gcmVzLmRhdGE/LmVudGVycHJpc2U/LmNpdHlFbnRlcnByaXNlVHlwZQ0KICAgICAgICAgIGxldCB0eXBlID0gJ1lYUU5SQycNCiAgICAgICAgICBsZXQgZGlzdHJpY3ROYW1lID0gcmVzLmRhdGE/LmVudGVycHJpc2U/LmRpc3RyaWN0TmFtZQ0KICAgICAgICAgIGxldCBuYW1lID0gcmVzLmRhdGE/LmVudGVycHJpc2U/Lm5hbWUNCg0KICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsNCiAgICAgICAgICAgIG5hbWU6ICd5VGxlbnQnLA0KICAgICAgICAgICAgcXVlcnk6IHsNCiAgICAgICAgICAgICAgdGFnOiAxLA0KICAgICAgICAgICAgICB0YWxlbnRJZDogaWQsDQogICAgICAgICAgICAgIGNpdHlFbnRlcnByaXNlVHlwZSwNCiAgICAgICAgICAgICAgdHlwZSwNCiAgICAgICAgICAgICAgZGlzdHJpY3ROYW1lLA0KICAgICAgICAgICAgICBuYW1lDQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICB9LA0KICB9DQp9Ow0K"},{"version":3,"sources":["YTlent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"YTlent.vue","sourceRoot":"src/views/talentReport/components","sourcesContent":["<template>\r\n  <div class=\"\">\r\n    <div class=\"newslist ql-editor \" v-if=\"visible\">\r\n      <div class=\"tle\" style=\"text-align: center;margin-top: 10px;\">\r\n        <h3>{{title}}</h3>\r\n      </div>\r\n      <div\r\n        class=\"content yTlent\"\r\n        style=\"padding: 10px 15px 10px 15px;line-height: 30px;\"\r\n        v-html=\"contents\"\r\n      >\r\n      </div>\r\n      <div class=\"foot\">\r\n        <div class=\"btn\" @click=\"toDeclare($event)\">在线申报</div>\r\n      </div>\r\n    </div>\r\n    <div v-else style=\"text-align:left;\">\r\n      <innovate></innovate>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {getArticle, cityCheck} from '../../../api/talentReport.js';\r\nimport yound from './yound.vue';\r\nimport innovate from './innovate.vue';\r\nimport { getId } from \"@/utils/auth\";\r\nimport { mapState } from 'vuex';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      title: '',\r\n      contents: '',\r\n      visible: true, // 是否显示表格\r\n    }\r\n  },\r\n  components: {\r\n    yound,\r\n    innovate,\r\n  },\r\n  created() {\r\n    if(this.$route.query.tag) {\r\n      this.visible = false\r\n      this.tag = this.$route.query.tag\r\n    }\r\n    this.query()\r\n  },\r\n  computed: {\r\n    ...mapState([\"userInfo\"]),\r\n  },\r\n  mounted() {\r\n    // 计算满屏高度\r\n    // setTimeout(() => {\r\n    //   this.calcFullHeight()\r\n    // }, 500)\r\n  },\r\n  methods: {\r\n    query() {\r\n      getArticle('1141292b-18d8-459c-972d-1fcf9721c4ea').then(res => {\r\n        console.log(res);\r\n        if(res?.data) {\r\n          let d = res.data\r\n          this.title = d.title\r\n          this.contents = d.contents\r\n        }\r\n      })\r\n    },\r\n    calcFullHeight() {\r\n      let h = document.documentElement.clientHeight\r\n      let headH = document.querySelector('.header-wrapper').clientHeight\r\n      let footH = document.querySelector('footer').clientHeight\r\n      let eHead = document.querySelector('.el-header').clientHeight\r\n\r\n      // document.querySelector('.yTlent').style.height = (h - headH - footH - eHead - 102) + 'px'\r\n      document.querySelector('.yTlent').style.height = (h - headH - footH - eHead - 65) + 'px'\r\n    },\r\n    toDeclare(e) {\r\n      let dom = e.target\r\n      if(dom.classList.contains('disabled')) return\r\n      // this.visible = false\r\n\r\n      if(!this.userInfo) {\r\n        this.$confirm(\"当前用户还未登录，请先登录\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        showCancelButton: false,\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          this.$router.push({\r\n            name: \"login\",\r\n            query: {\r\n              redirect: \"yTlent\"\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {});\r\n\r\n        return\r\n      }\r\n\r\n      cityCheck({\r\n        userId: getId(),\r\n        type: 'YXQNRC'\r\n      }).then(res => {\r\n        if(res?.code == 200) {\r\n          let id = res.data?.talent?.id\r\n          let cityEnterpriseType = res.data?.enterprise?.cityEnterpriseType\r\n          let type = 'YXQNRC'\r\n          let districtName = res.data?.enterprise?.districtName\r\n          let name = res.data?.enterprise?.name\r\n\r\n          this.$router.replace({\r\n            name: 'yTlent',\r\n            query: {\r\n              tag: 1,\r\n              talentId: id,\r\n              cityEnterpriseType,\r\n              type,\r\n              districtName,\r\n              name\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.foot {\r\n  display: flex;\r\n  justify-content: center;\r\n  .btn {\r\n    padding: 10px 20px;\r\n    background: rgba(22, 155, 213, 1);\r\n    color: #fff;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n    &.mr50 {\r\n      margin-right: 50px;\r\n    }\r\n    &.disabled {\r\n      background: #ccc;\r\n      cursor: not-allowed;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}