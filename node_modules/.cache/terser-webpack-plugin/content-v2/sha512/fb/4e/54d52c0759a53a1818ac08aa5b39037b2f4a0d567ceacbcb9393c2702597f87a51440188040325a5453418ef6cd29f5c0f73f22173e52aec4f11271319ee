{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"houseMap\"],{\"0538\":function(t,e,n){\"use strict\";var r=n(\"1c0b\"),o=n(\"861d\"),a=[].slice,i={},c=function(t,e,n){if(!(e in i)){for(var r=[],o=0;o<e;o++)r[o]=\"a[\"+o+\"]\";i[e]=Function(\"C,a\",\"return new C(\"+r.join(\",\")+\")\")}return i[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),i=function(){var r=n.concat(a.call(arguments));return this instanceof i?c(e,r.length,r):e.apply(t,r)};return o(e.prototype)&&(i.prototype=e.prototype),i}},\"06c5\":function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return o}));n(\"fb6a\"),n(\"d3b7\"),n(\"b0c0\"),n(\"a630\"),n(\"3ca3\");var r=n(\"6b75\");function o(t,e){if(t){if(\"string\"===typeof t)return Object(r[\"a\"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r[\"a\"])(t,e):void 0}}},\"22d7\":function(t,e,n){\"use strict\";n(\"31f7\")},2909:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return u}));var r=n(\"6b75\");function o(t){if(Array.isArray(t))return Object(r[\"a\"])(t)}n(\"a4d3\"),n(\"e01a\"),n(\"d3b7\"),n(\"d28b\"),n(\"3ca3\"),n(\"ddb0\"),n(\"a630\");function a(t){if(\"undefined\"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t[\"@@iterator\"])return Array.from(t)}var i=n(\"06c5\");function c(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}function u(t){return o(t)||a(t)||Object(i[\"a\"])(t)||c()}},\"31f7\":function(t,e,n){},3410:function(t,e,n){var r=n(\"23e7\"),o=n(\"d039\"),a=n(\"7b0b\"),i=n(\"e163\"),c=n(\"e177\"),u=o((function(){i(1)}));r({target:\"Object\",stat:!0,forced:u,sham:!c},{getPrototypeOf:function(t){return i(a(t))}})},\"4ae1\":function(t,e,n){var r=n(\"23e7\"),o=n(\"d066\"),a=n(\"1c0b\"),i=n(\"825a\"),c=n(\"861d\"),u=n(\"7c73\"),s=n(\"0538\"),f=n(\"d039\"),l=o(\"Reflect\",\"construct\"),p=f((function(){function t(){}return!(l((function(){}),[],t)instanceof t)})),d=!f((function(){l((function(){}))})),h=p||d;r({target:\"Reflect\",stat:!0,forced:h,sham:h},{construct:function(t,e){a(t),i(e);var n=arguments.length<3?t:a(arguments[2]);if(d&&!p)return l(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(s.apply(t,r))}var o=n.prototype,f=u(c(o)?o:Object.prototype),h=Function.apply.call(t,f,e);return c(h)?h:f}})},\"4df4\":function(t,e,n){\"use strict\";var r=n(\"0366\"),o=n(\"7b0b\"),a=n(\"9bdd\"),i=n(\"e95a\"),c=n(\"50c4\"),u=n(\"8418\"),s=n(\"35a1\");t.exports=function(t){var e,n,f,l,p,d,h=o(t),y=\"function\"==typeof this?this:Array,b=arguments.length,m=b>1?arguments[1]:void 0,v=void 0!==m,g=s(h),w=0;if(v&&(m=r(m,b>2?arguments[2]:void 0,2)),void 0==g||y==Array&&i(g))for(e=c(h.length),n=new y(e);e>w;w++)d=v?m(h[w],w):h[w],u(n,w,d);else for(l=g.call(h),p=l.next,n=new y;!(f=p.call(l)).done;w++)d=v?a(l,m,[f.value,w],!0):f.value,u(n,w,d);return n.length=w,n}},\"6b75\":function(t,e,n){\"use strict\";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,\"a\",(function(){return r}))},7037:function(t,e,n){function r(e){return\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?(t.exports=r=function(t){return typeof t},t.exports[\"default\"]=t.exports,t.exports.__esModule=!0):(t.exports=r=function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},t.exports[\"default\"]=t.exports,t.exports.__esModule=!0),r(e)}n(\"a4d3\"),n(\"e01a\"),n(\"d3b7\"),n(\"d28b\"),n(\"3ca3\"),n(\"ddb0\"),t.exports=r,t.exports[\"default\"]=t.exports,t.exports.__esModule=!0},\"99af\":function(t,e,n){\"use strict\";var r=n(\"23e7\"),o=n(\"d039\"),a=n(\"e8b5\"),i=n(\"861d\"),c=n(\"7b0b\"),u=n(\"50c4\"),s=n(\"8418\"),f=n(\"65f0\"),l=n(\"1dde\"),p=n(\"b622\"),d=n(\"2d00\"),h=p(\"isConcatSpreadable\"),y=9007199254740991,b=\"Maximum allowed index exceeded\",m=d>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),v=l(\"concat\"),g=function(t){if(!i(t))return!1;var e=t[h];return void 0!==e?!!e:a(t)},w=!m||!v;r({target:\"Array\",proto:!0,forced:w},{concat:function(t){var e,n,r,o,a,i=c(this),l=f(i,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(a=-1===e?i:arguments[e],g(a)){if(o=u(a.length),p+o>y)throw TypeError(b);for(n=0;n<o;n++,p++)n in a&&s(l,p,a[n])}else{if(p>=y)throw TypeError(b);s(l,p++,a)}return l.length=p,l}})},\"9bdd\":function(t,e,n){var r=n(\"825a\"),o=n(\"2a62\");t.exports=function(t,e,n,a){try{return a?e(r(n)[0],n[1]):e(n)}catch(i){throw o(t),i}}},a630:function(t,e,n){var r=n(\"23e7\"),o=n(\"4df4\"),a=n(\"1c7e\"),i=!a((function(t){Array.from(t)}));r({target:\"Array\",stat:!0,forced:i},{from:o})},b0c0:function(t,e,n){var r=n(\"83ab\"),o=n(\"9bf2\").f,a=Function.prototype,i=a.toString,c=/^\\s*function ([^ (]*)/,u=\"name\";r&&!(u in a)&&o(a,u,{configurable:!0,get:function(){try{return i.call(this).match(c)[1]}catch(t){return\"\"}}})},d28b:function(t,e,n){var r=n(\"746f\");r(\"iterator\")},d81d:function(t,e,n){\"use strict\";var r=n(\"23e7\"),o=n(\"b727\").map,a=n(\"1dde\"),i=a(\"map\");r({target:\"Array\",proto:!0,forced:!i},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},e01a:function(t,e,n){\"use strict\";var r=n(\"23e7\"),o=n(\"83ab\"),a=n(\"da84\"),i=n(\"5135\"),c=n(\"861d\"),u=n(\"9bf2\").f,s=n(\"e893\"),f=a.Symbol;if(o&&\"function\"==typeof f&&(!(\"description\"in f.prototype)||void 0!==f().description)){var l={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new f(t):void 0===t?f():f(t);return\"\"===t&&(l[e]=!0),e};s(p,f);var d=p.prototype=f.prototype;d.constructor=p;var h=d.toString,y=\"Symbol(test)\"==String(f(\"test\")),b=/^Symbol\\((.*)\\)[^)]+$/;u(d,\"description\",{configurable:!0,get:function(){var t=c(this)?this.valueOf():this,e=h.call(t);if(i(l,t))return\"\";var n=y?e.slice(7,-1):e.replace(b,\"$1\");return\"\"===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},eaeb:function(t,e,n){\"use strict\";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"div\",{staticClass:\"mapBox\"},[r(\"div\",{attrs:{id:\"allmap\"}}),r(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!t.userInfo,expression:\"!userInfo\"}],staticClass:\"tooltip\"},[r(\"img\",{attrs:{src:n(\"ef24\"),alt:\"\"}}),t._v(\" 您未登录，仅能查看地图房源 \")])])},o=[],a=n(\"2909\"),i=n(\"5530\"),c=(n(\"d81d\"),n(\"159b\"),n(\"f803\")),u=n(\"2f62\"),s=n(\"5f87\"),f=n(\"81f6\");function l(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function y(t,e){if(\"function\"!==typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}n(\"4ae1\"),n(\"3410\");function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function m(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var v=n(\"7037\"),g=n.n(v);function w(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t}function x(t,e){return!e||\"object\"!==g()(e)&&\"function\"!==typeof e?w(t):e}function j(t){var e=m();return function(){var n,r=b(t);if(e){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return x(this,n)}}n(\"99af\");var A=function(t){y(n,t);var e=j(n);function n(t){return l(this,n),e.call(this,t)}return d(n,[{key:\"onInit\",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.position,n=t.data,r=t.minRadius,o=void 0===r?0:r,a=t.maxRadius,i=void 0===a?50:a,c=t.contentName,u=t.contentCount,s=t.layerType;Object.assign(this,{position:e,data:n,minRadius:o,maxRadius:i,contentName:c,contentCount:u,layerType:s})}},{key:\"createDOM\",value:function(){var t=this,e=document.createElement(\"div\");if(\"projectLabel\"==this.layerType){e.style.cssText=\"padding:5px 10px;background:#6495ED;line-height:15px;font-size:14px;position:absolute;top:0px;left:0px;color:#fff;cursor:pointer;border-radius: 6px;\";var n=this.data,r=n.housecountA+n.housecountB+n.housecountC,o=\"\";2==n.sourceType?o=n.villageName:3==n.sourceType&&(o=n.projectname),e.innerHTML=\"<span>\".concat(o,\"</span><br/><span>\").concat(r,\"套</span>\"),this.onClick=function(t){window.customProcjectClickFirst=!0,t.stopPropagation(),f[\"a\"].$emit(\"customProcjectClick\",n)}}else e.style.cssText=\"padding:10px;background:#6495ED;line-height:15px;font-size:18px;position:absolute;top:0px;left:0px;border-radius: 50%;width: 90px;height: 90px;color:#fff;padding-top: 30px;cursor:pointer;\",e.innerHTML=\"<span>\".concat(this.contentName,\"</span><br/><span>\").concat(this.contentCount,\"套</span>\"),this.onClick=function(e){t.map.zoomTo(14),setTimeout((function(){t.map.panTo(t.position),f[\"a\"].$emit(\"customAreaClick\",14)}),400)};return e.addEventListener(\"click\",this.onClick),e}},{key:\"updateDOM\",value:function(){if(this.map){var t=this.map.projectToContainer(this.position),e=t.getX()-this.dom.clientWidth/2+\"px\",n=t.getY()-this.dom.clientHeight/2+\"px\";this.dom.style.transform=\"translate(\".concat(e,\", \").concat(n,\")\")}}},{key:\"onDestroy\",value:function(){this.onClick&&this.dom.removeEventListener(this.onClick)}}]),n}(TMap.DOMOverlay),O=A,L={data:function(){return{projectList:[],zoom:11,areaData:[],projectData:[],isAreaMarkerVisible:!0,areaLabelArr:[],projectLabelArr:[]}},created:function(){},mounted:function(){var t=this;this.initBMap(),this.getData(),f[\"a\"].$on(\"customAreaClick\",(function(e){t.toggleAreaLabelArr(),t.zoom=e})),f[\"a\"].$on(\"customProcjectClick\",(function(e){1==window.customProcjectClickFirst&&(window.customProcjectClickFirst=!1,t.userInfo?Object(c[\"f\"])({studentId:Object(s[\"a\"])(),area:e.districtname||e.districtName}).then((function(n){console.log(n),200!=n.code?t.$confirm(n.msg,\"提示\",{confirmButtonText:\"确定\",showCancelButton:!1,type:\"warning\"}).then((function(){201==n.code&&t.$router.push(\"/reportOnlie\")})).catch((function(){})):200==n.code&&t.$router.push({path:\"reportHouse3\",query:{projectId:e.projectid||\"\",villageId:e.villageId||\"\",sourceType:e.sourceType,projectName:e.projectName,villageName:e.villageName}})})):t.$router.push(\"/login\"))}));var e=this;document.onmousewheel=function(n){t.zoom=e.map&&e.map.getZoom()},setTimeout((function(){t.calcFullHeight()}),500)},computed:Object(i[\"a\"])({},Object(u[\"c\"])([\"userInfo\"])),methods:{calcFullHeight:function(){var t=document.documentElement.clientHeight,e=document.querySelector(\".header-wrapper\").clientHeight,n=document.querySelector(\"footer\").clientHeight,r=document.querySelector(\".el-header\").clientHeight;document.querySelector(\".mapBox\").style.height=t-e-n-r-2+\"px\"},initBMap:function(t){var e=new TMap.LatLng(30.57024669280235,114.30042924810527),n=this.map=window.map=new TMap.Map(document.getElementById(\"allmap\"),{center:e,zoom:this.zoom});n.setDoubleClickZoom(!1),n.removeControl(\"zoom\"),n.removeControl(\"logo\"),console.log(this.map)},createLabel:function(t,e){var n=this,r=this;t.forEach((function(t){var o=new O({map:r.map,position:new TMap.LatLng(t.latitude,t.longitude),data:t,minRadius:0,maxRadius:20,contentName:t.regionName,contentCount:t.count,layerType:e});\"projectLabel\"==e?n.projectLabelArr.push(o):n.areaLabelArr.push(o)}))},getData:function(){var t=this;Object(c[\"d\"])({}).then((function(e){var n=e.data;if(n){t.areaData=n;var r=[];n.forEach((function(t){t.childData&&t.childData.length>0&&r.push.apply(r,Object(a[\"a\"])(t.childData))})),t.projectData=r,t.createLabel(t.areaData,\"areaLabel\"),t.createLabel(t.projectData,\"projectLabel\"),t.toggleAreaLabelArr()}}))},toggleAreaLabelArr:function(){this.isAreaMarkerVisible?(this.areaLabelArr.forEach((function(t){t.dom.style.display=\"block\"})),this.projectLabelArr.forEach((function(t){t.dom.style.display=\"none\"}))):(this.areaLabelArr.forEach((function(t){t.dom.style.display=\"none\"})),this.projectLabelArr.forEach((function(t){t.dom.style.display=\"block\"}))),this.isAreaMarkerVisible=!this.isAreaMarkerVisible}},watch:{zoom:function(t,e){(t>=13&&!this.isAreaMarkerVisible||t<=11.5&&this.isAreaMarkerVisible)&&this.toggleAreaLabelArr()}}},k=L,C=(n(\"22d7\"),n(\"2877\")),S=Object(C[\"a\"])(k,r,o,!1,null,\"7ea40040\",null);e[\"default\"]=S.exports},ef24:function(t,e,n){t.exports=n.p+\"img/zhuYi.2ae2a495.svg\"},f803:function(t,e,n){\"use strict\";n.d(e,\"i\",(function(){return o})),n.d(e,\"h\",(function(){return a})),n.d(e,\"c\",(function(){return i})),n.d(e,\"b\",(function(){return c})),n.d(e,\"j\",(function(){return u})),n.d(e,\"d\",(function(){return s})),n.d(e,\"e\",(function(){return f})),n.d(e,\"f\",(function(){return l})),n.d(e,\"g\",(function(){return p})),n.d(e,\"a\",(function(){return d}));var r=n(\"b775\");function o(t){return r[\"a\"].post(\"/gateway/rentserver/rent/frontend/getHouseList\",t)}function a(t){return r[\"a\"].post(\"/gateway/rentserver/rent/frontend/getHouseDetail\",t)}function i(t){return r[\"a\"].post(\"/gateway/rentserver/rent/frontend/collectionOperate\",t)}function c(t){return r[\"a\"].post(\"/gateway/rentserver/rent/frontend/collectionHouseList\",t)}function u(t){return r[\"a\"].post(\"/gateway/rentserver/rent/frontend/selectHouse\",t)}function s(t){return r[\"a\"].post(\"gateway/rentserver/rent/frontend/countHouse5\",t)}function f(t){return r[\"a\"].post(\"gateway/rentserver/rent/frontend/countHouse3\",t)}function l(t){return r[\"a\"].get(\"/gateway/rentserver/apartmentLeaseApply/getStudentStatus\",t)}function p(t){return r[\"a\"].get(\"/gateway/rentserver/apartmentLeaseApply/getStudentStatus2\",t)}function d(t){return r[\"a\"].post(\"/gateway/rentserver/apartmentLeaseApply/save\",t)}},fb6a:function(t,e,n){\"use strict\";var r=n(\"23e7\"),o=n(\"861d\"),a=n(\"e8b5\"),i=n(\"23cb\"),c=n(\"50c4\"),u=n(\"fc6a\"),s=n(\"8418\"),f=n(\"b622\"),l=n(\"1dde\"),p=l(\"slice\"),d=f(\"species\"),h=[].slice,y=Math.max;r({target:\"Array\",proto:!0,forced:!p},{slice:function(t,e){var n,r,f,l=u(this),p=c(l.length),b=i(t,p),m=i(void 0===e?p:e,p);if(a(l)&&(n=l.constructor,\"function\"!=typeof n||n!==Array&&!a(n.prototype)?o(n)&&(n=n[d],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return h.call(l,b,m);for(r=new(void 0===n?Array:n)(y(m-b,0)),f=0;b<m;b++,f++)b in l&&s(r,f,l[b]);return r.length=f,r}})}}]);","extractedComments":[]}