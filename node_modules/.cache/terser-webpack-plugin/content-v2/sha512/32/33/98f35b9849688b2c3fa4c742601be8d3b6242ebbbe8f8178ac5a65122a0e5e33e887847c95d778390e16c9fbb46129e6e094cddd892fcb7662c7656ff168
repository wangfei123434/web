{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"millcode\"],{\"20de\":function(e,r,t){},\"226c\":function(e,r,t){\"use strict\";t.d(r,\"d\",(function(){return n})),t.d(r,\"c\",(function(){return o})),t.d(r,\"g\",(function(){return a})),t.d(r,\"b\",(function(){return s})),t.d(r,\"f\",(function(){return c})),t.d(r,\"e\",(function(){return i})),t.d(r,\"a\",(function(){return u})),t.d(r,\"h\",(function(){return m})),t.d(r,\"i\",(function(){return f}));var n=function(e,r,t){if(!r)return t(new Error(\"姓名不能为空\"));t()},o=function(e,r,t){if(\"\"===r)return t(new Error(\"身份证号不能为空\"));t()},a=function(e,r,t){if(!r)return t(new Error(\"手机号不能为空\"));t()},s=function(e,r,t){if(!r)return t(new Error(\"单位不能为空\"));t()},c=function(e,r,t){if(!r)return t(new Error(\"统一社会信用代码\"));t()},i=function(e,r,t){if(!r)return t(new Error(\"单位注册地址不能为空\"));t()},u=function(e,r,t){if(!r)return t(new Error(\"密码不能为空\"));t()},l=/^[_a-zA-Z0-9]{8,16}$/,m=function(e){return function(r,t,n){\"\"===t?n(new Error(\"请输入密码\")):l.test(t)?(\"\"!==e.regForm.pass&&e.$refs.regForm.validateField(\"checkPass\"),n()):n(new Error(\"密码是8-16位的英文、数字、下划线！\"))}},f=function(e){return function(r,t,n){\"\"===t?n(new Error(\"请再次输入密码\")):l.test(t)?t!==e.regForm.checkPass?n(new Error(\"两次输入密码不一致!\")):n():n(new Error(\"密码是8-16位的英文、数字、下划线！\"))}}},\"433b\":function(e,r,t){\"use strict\";t.r(r);var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t(\"div\",{staticClass:\"content-wrapper\"},[e._m(0),t(\"div\",{staticClass:\"main-box\",staticStyle:{width:\"600px\",\"margin-left\":\"250px\"}},[t(\"el-form\",{ref:\"regForm\",staticClass:\"demo-ruleForm\",attrs:{model:e.regForm,\"status-icon\":\"\",rules:e.loginRules,\"label-width\":\"100px\"}},[t(\"el-form-item\",{attrs:{label:\"手机号\",prop:\"tel\"}},[t(\"el-input\",{attrs:{placeholder:\"请输入手机号\"},model:{value:e.regForm.tel,callback:function(r){e.$set(e.regForm,\"tel\",r)},expression:\"regForm.tel\"}})],1),t(\"el-form-item\",{attrs:{label:\"验证码\",prop:\"captcha\"}},[t(\"el-input\",{attrs:{autocomplete:\"off\",placeholder:\"请输入验证码\"},model:{value:e.regForm.captcha,callback:function(r){e.$set(e.regForm,\"captcha\",r)},expression:\"regForm.captcha\"}},[t(\"el-button\",{staticStyle:{backgroundColor:\"#1b9af7\",color:\"white\"},attrs:{slot:\"append\",disabled:e.yzmDis},on:{click:e.telphone},slot:\"append\"},[e._v(e._s(e.yzmDis?e.yzmDisText:\"发送验证码\"))])],1)],1),t(\"el-form-item\",{attrs:{label:\"新密码\",prop:\"pass\"}},[t(\"el-input\",{attrs:{type:\"password\",autocomplete:\"off\",placeholder:\"请输入新密码\"},model:{value:e.regForm.pass,callback:function(r){e.$set(e.regForm,\"pass\",r)},expression:\"regForm.pass\"}})],1),t(\"el-form-item\",{attrs:{label:\"确认密码\",prop:\"checkPass\"}},[t(\"el-input\",{attrs:{type:\"password\",autocomplete:\"off\",placeholder:\"请确认密码\"},model:{value:e.regForm.checkPass,callback:function(r){e.$set(e.regForm,\"checkPass\",r)},expression:\"regForm.checkPass\"}})],1),t(\"el-form-item\",[t(\"el-button\",{staticStyle:{backgroundColor:\"#1b9af7\",color:\"white\"},attrs:{type:\"primary\"},on:{click:function(r){return e.submitForm(\"regForm\")}}},[e._v(\"提交\")])],1)],1)],1)])},o=[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t(\"div\",{staticClass:\"title\",staticStyle:{\"margin-top\":\"50px\"}},[t(\"h3\",[e._v(\"百万大学生重置密码\")])])}],a=t(\"1da1\"),s=(t(\"96cf\"),t(\"d840\")),c=t(\"7ded\"),i=t(\"226c\"),u={data:function(){return{regForm:{userName:\"\",oldPass:\"\",tel:\"\",captcha:\"\",pass:\"\",checkPass:\"\"},loginRules:{pass:[{validator:Object(i[\"h\"])(this),trigger:\"blur\"}],checkPass:[{validator:Object(i[\"i\"])(this),trigger:\"blur\"}],tel:[{validator:i[\"g\"],trigger:\"blur\"}]},yzmDis:!1,yzmDisText:\"120s\",yzmTime:null}},mounted:function(){var e=this;console.log(this,this.$route);var r=this.$route.params.userInfo;r&&(this.regForm.userName=r.idCard,this.regForm.tel=r.phoneNumber?r.phoneNumber:\"\"),this.regForm.oldPass=this.$route.params.password?this.$route.params.password:\"\",setTimeout((function(){e.calcFullHeight()}),500)},methods:{calcFullHeight:function(){var e=document.documentElement.clientHeight,r=document.querySelector(\".header-wrapper\").clientHeight,t=document.querySelector(\"footer\").clientHeight;document.querySelector(\".content-wrapper\").style.height=e-r-t+\"px\"},telphone:function(){var e=this;return Object(a[\"a\"])(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.yzmDis=!0,e.yzmTime=setInterval((function(){e.yzmDisText=parseInt(e.yzmDisText)-1+\"s\",0==parseInt(e.yzmDisText)&&(clearInterval(e.yzmTime),e.yzmTime=null,e.yzmDisText=\"120s\",e.yzmDis=!1)}),1e3),r.next=4,Object(s[\"d\"])({phone:e.regForm.tel,type:\"reset\"});case 4:t=r.sent,console.log(t),200==t.code&&e.$message.success(t.data||t.msg||\"验证码已发送！\");case 7:case\"end\":return r.stop()}}),r)})))()},submitForm:function(e){var r=this;this.$refs[e].validate(function(){var e=Object(a[\"a\"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,Object(c[\"b\"])({code:r.regForm.captcha,enPaasword:r.regForm.checkPass,idNumber:r.regForm.userName,newPassword:r.regForm.pass,oldPaasword:r.regForm.oldPass,phone:r.regForm.tel,name:r.regForm.userName});case 3:n=e.sent,console.log(n),200==n.code&&r.$alert(\"密码修改成功\",{confirmButtonText:\"确定\"}).then((function(){r.$router.push(\"login\")})),e.next=10;break;case 8:return console.log(\"表单不通过校验\"),e.abrupt(\"return\",!1);case 10:case\"end\":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())}}},l=u,m=(t(\"c741\"),t(\"2877\")),f=Object(m[\"a\"])(l,n,o,!1,null,\"7b8652be\",null);r[\"default\"]=f.exports},\"7ded\":function(e,r,t){\"use strict\";t.d(r,\"d\",(function(){return o})),t.d(r,\"a\",(function(){return a})),t.d(r,\"c\",(function(){return s})),t.d(r,\"b\",(function(){return c}));var n=t(\"b775\");function o(e){return n[\"a\"].get(\"/gateway/accountserver/login/getPictureCode\",e)}function a(e){return n[\"a\"].post(\"/gateway/accountserver/login/login\",e)}function s(e){return n[\"a\"].post(\"/gateway/accountserver/login/modifyPassword\",e)}function c(e){return n[\"a\"].post(\"/gateway/accountserver/login/modifyPasswordStudednt\",e)}},c741:function(e,r,t){\"use strict\";t(\"20de\")},d840:function(e,r,t){\"use strict\";t.d(r,\"b\",(function(){return o})),t.d(r,\"d\",(function(){return a})),t.d(r,\"c\",(function(){return s})),t.d(r,\"a\",(function(){return c}));var n=t(\"b775\");function o(e){return n[\"a\"].post(\"/gateway/accountserver/login/registerPersonalUser\",e)}function a(e){return n[\"a\"].get(\"/gateway/accountserver/login/sendMessage\",e)}function s(e){return n[\"a\"].post(\"/gateway/accountserver/login/registerEnterpriseUser\",e)}function c(){return n[\"a\"].post(\"gateway/accountserver/login/org/list\")}}}]);","extractedComments":[]}