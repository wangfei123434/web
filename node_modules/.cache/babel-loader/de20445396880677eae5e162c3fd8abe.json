{"remainingRequest":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\babel-loader\\lib\\index.js!E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\src\\utils\\request.js","dependencies":[{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\src\\utils\\request.js","mtime":1658367490851},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\work\\2022-07-21人才服务网改造最新\\talent-web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovd29yay8yMDIyLTA3LTIxXHU0RUJBXHU2MjREXHU2NzBEXHU1MkExXHU3RjUxXHU2NTM5XHU5MDIwXHU2NzAwXHU2NUIwL3RhbGVudC13ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBOb3RpZmljYXRpb24sIE1lc3NhZ2VCb3gsIE1lc3NhZ2UsIExvYWRpbmcgfSBmcm9tICJlbGVtZW50LXVpIjsKaW1wb3J0IHsgZ2V0VG9rZW4sIGdldElkIH0gZnJvbSAiQC91dGlscy9hdXRoIjsKaW1wb3J0IHN0b3JlIGZyb20gIi4uL3N0b3JlIjsKaW1wb3J0IGNvbmZpZyBmcm9tICIuLi9hc3NldHMvZ2xvYmFsL2NvbmZpZy5qcyI7CmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAnQC9ldmVudC1idXMuanMnOyAvLyBheGlvcy5kZWZhdWx0cy5oZWFkZXJzWyJDb250ZW50LVR5cGUiXSA9ICJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgiOwovLyDliJvlu7pheGlvc+WunuS+izsKCnZhciBzZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICAvLyBheGlvc+S4reivt+axgumFjee9ruaciWJhc2VVUkzpgInpobnvvIzooajnpLror7fmsYJVUkzlhazlhbHpg6jliIYKICAvLyBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJLAogIC8vIGJhc2VVUkw6ICJodHRwOi8vMTAuMTkyLjU0Ljc6NDEwNSIsIC8vIOeUn+S6p+W6kyoqKioqKgogIC8vIGJhc2VVUkw6ICJodHRwOi8vNTguNDkuMTY1LjE3MDo4MDg0IiwKICAvLyBiYXNlVVJMOiAiaHR0cDovLzE3Mi4xNi4yMDAuMzY6NDEwNSIsCiAgLy8gYmFzZVVSTDogImh0dHA6Ly8xNzIuMTYuMjAwLjI1NDo0MTA1IiwKICAvLyBiYXNlVVJMOiAiaHR0cDovLzE3Mi4xNi4yMDAuMTkxOjQxMDUiLAogIC8vIGJhc2VVUkw6ICJodHRwOi8vMTcyLjE2LjIwMC4xMDE6NDEwNSIsCiAgLy8gYmFzZVVSTDogImh0dHA6Ly81OC40OS4xNjUuMTcwOjgwODQiLCAvLyDmraPlvI/kvb/nlKjnmoRpcAogIC8vIGJhc2VVUkw6ICJodHRwOi8vMTAuOC4wLjI0Mjo0MTA1IiwgLy8gdGVzdAogIGJhc2VVUkw6ICcvJywKICAvLyDotoXml7YKICAvLyB0aW1lb3V0OiAxMDAwMCwKICBoZWFkZXJzOiB7CiAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCIKICB9Cn0pOyAvLyBheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gImh0dHA6Ly8xMC4xOTIuNTQuNzo0MTA1IjsKLy8gYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICJodHRwOi8vMTcyLjE2LjIwMC4yNTQ6NDEwNSI7Ci8vIGF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSAiaHR0cDovLzE3Mi4xNi4yMDAuMTAxOjQxMDUiOyAvLyDlp5zkvp3lvrcKLy8gYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICJodHRwOi8vMTcyLjE2LjIwMC4zNjo0MTA1IjsgLy8g5aec5pm66IifCi8vIGF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSAiaHR0cDovLzE3Mi4xNi4yMDAuMTkxOjQxMDUiOyAvLyDkuIfpkrAKLy8gYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICJodHRwOi8vNTguNDkuMTY1LjE3MDo4MDg0IjsgLy8g5q2j5byP5L2/55So55qEaXAKLy8gYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9IGNvbmZpZy5zZXJ2ZS51cmw7IC8vIOato+W8j+S9v+eUqOeahGlwCi8vIHJlcXVlc3Tmi6bmiKrlmag7CgpzZXJ2aWNlLmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShmdW5jdGlvbiAoY29uZmlnKSB7CiAgLy8gY29uc29sZS5sb2coe2NvbmZpZ30pCiAgaWYgKGdldFRva2VuKCkpIHsKICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBnZXRUb2tlbigpOyAvLyDorqnmr4/kuKror7fmsYLmkLrluKboh6rlrprkuYl0b2tlbiDor7fmoLnmja7lrp7pmYXmg4XlhrXoh6rooYzkv67mlLkKICB9CgogIGdldElkKCkgJiYgKGNvbmZpZy5oZWFkZXJzLnVzZXJJZCA9IGdldElkKCkpOwogIHJldHVybiBjb25maWc7Cn0gLy8gICBlcnJvciA9PiB7Ci8vICAgICBjb25zb2xlLmxvZyhlcnJvcik7Ci8vICAgICBQcm9taXNlLnJlamVjdChlcnJvcik7Ci8vICAgfQopOyAvLyDlk43lupTmi6bmiKrlmagKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzKSB7CiAgdmFyIF9yZXMkZGF0YSA9IHJlcy5kYXRhLAogICAgICBjb2RlID0gX3JlcyRkYXRhLmNvZGUsCiAgICAgIGluZm8gPSBfcmVzJGRhdGEuaW5mbywKICAgICAgbXNnID0gX3JlcyRkYXRhLm1zZzsKICB2YXIgdXJsID0gcmVzLmNvbmZpZy51cmw7IC8vIOaJgOacieaOpeWPozQwMSB0b2tlbuWkseaViAoKICBpZiAoY29kZSAmJiBjb2RlID09IDQwMSkgewogICAgTWVzc2FnZS5lcnJvcihpbmZvIHx8IG1zZyk7CiAgICB3aW5kb3cudXNlckludmFsaWQgPSB0cnVlOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIEV2ZW50QnVzLiRlbWl0KCd1c2VySW52YWxpZCcpOwogICAgfSwgMTAwMCk7CiAgICByZXR1cm4gcmVzOwogIH0gLy8g5p+Q5Lqb5o6l5Y+j5pyJ6Ieq5bex55qE5o+Q56S65qGG77yM5LiN6ZyA6KaB5oum5oiq5Zmo55qE6buY6K6k6ZSZ6K+v5o+Q56S6CgoKICBpZiAodXJsID09ICIvZ2F0ZXdheS9yZW50c2VydmVyL2FwYXJ0bWVudExlYXNlQXBwbHkvZ2V0U3R1ZGVudFN0YXR1cyIpIHsKICAgIHJldHVybiByZXM7CiAgfQoKICBpZiAodXJsID09ICIvZ2F0ZXdheS9yZW50c2VydmVyL2FwYXJ0bWVudExlYXNlQXBwbHkvZ2V0U3R1ZGVudFN0YXR1czIiKSB7CiAgICByZXR1cm4gcmVzOwogIH0gLy8g55m75YWl5o6l5Y+j44CC5aaC5p6cY29kZeS4ujEwMDUKCgogIGlmICh1cmwgPT0gIi9nYXRld2F5L2FjY291bnRzZXJ2ZXIvbG9naW4vbG9naW4iICYmIGNvZGUgPT0gMTAwNSkgewogICAgcmV0dXJuIHJlczsKICB9IC8vIOS4quS6uuS4reW/gyAtIOaUtuiXjwoKCiAgaWYgKHVybCA9PSAiL2dhdGV3YXkvcmVudHNlcnZlci9yZW50L2Zyb250ZW5kL2NvbGxlY3Rpb25Ib3VzZUxpc3QiICYmIGNvZGUgPT0gMjA0KSB7CiAgICByZXR1cm4gcmVzOwogIH0KCiAgaWYgKGNvZGUgfHwgaW5mbykgewogICAgaWYgKGNvZGUgIT0gMjAwICYmIGNvZGUgIT0gMCkgewogICAgICBNZXNzYWdlLmVycm9yKGluZm8gfHwgbXNnKTsKICAgIH0KICB9CgogIHJldHVybiByZXM7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIHZhciBkYXRhID0gZXJyb3IucmVzcG9uc2UuZGF0YTsKCiAgaWYgKGRhdGEgJiYgZGF0YS5jb2RlKSB7CiAgICBNZXNzYWdlLmVycm9yKGRhdGEubXNnKTsKICB9CgogIHZhciBlcnIgPSBkYXRhLmVycm9yOwogIGVyciAmJiBNZXNzYWdlLmVycm9yKGVycik7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yLnJlc3BvbnNlKTsKfSk7CmV4cG9ydCBkZWZhdWx0IHsKICBnZXQ6IGZ1bmN0aW9uIGdldCh1cmwsIHBhcmFtcykgewogICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogICAgdmFyIGxvYWRpbmcgPSBMb2FkaW5nLnNlcnZpY2UoewogICAgICBsb2NrOiB0cnVlLAogICAgICB0ZXh0OiAnTG9hZGluZycsCiAgICAgIHNwaW5uZXI6ICdlbC1pY29uLWxvYWRpbmcnLAogICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjcpJwogICAgfSk7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBzZXJ2aWNlLmdldCh1cmwsIF9vYmplY3RTcHJlYWQoewogICAgICAgIHBhcmFtczogcGFyYW1zCiAgICAgIH0sIG9wdGlvbnMpKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmRhdGEgaW5zdGFuY2VvZiBCbG9iKSB7CiAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICByZXNvbHZlKHsKICAgICAgICAgICAgZGF0YTogcmVzLmRhdGEsCiAgICAgICAgICAgIGZpbGVOYW1lOiBkZWNvZGVVUkkocmVzLmhlYWRlcnNbJ2NvbnRlbnQtZGlzcG9zaXRpb24nXS5zcGxpdCgnOycpWzFdLnNwbGl0KCdmaWxlbmFtZT0nKVsxXSkKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgcmVqZWN0KGVycik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBwb3N0OiBmdW5jdGlvbiBwb3N0KHVybCwgcXVlcnkpIHsKICAgIHZhciBsb2FkaW5nID0gTG9hZGluZy5zZXJ2aWNlKHsKICAgICAgbG9jazogdHJ1ZSwKICAgICAgdGV4dDogJ0xvYWRpbmcnLAogICAgICBzcGlubmVyOiAnZWwtaWNvbi1sb2FkaW5nJywKICAgICAgYmFja2dyb3VuZDogJ3JnYmEoMCwgMCwgMCwgMC43KScKICAgIH0pOwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgc2VydmljZS5wb3N0KHVybCwgcXVlcnkpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgICByZXNvbHZlKHJlcy5kYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgcmVqZWN0KGUpOwogICAgICB9KTsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["E:/work/2022-07-21人才服务网改造最新/talent-web/src/utils/request.js"],"names":["axios","Notification","MessageBox","Message","Loading","getToken","getId","store","config","EventBus","service","create","baseURL","headers","interceptors","request","use","Authorization","userId","response","res","data","code","info","msg","url","error","window","userInvalid","setTimeout","$emit","err","Promise","reject","get","params","options","loading","lock","text","spinner","background","resolve","then","Blob","close","fileName","decodeURI","split","catch","post","query","e"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { Notification, MessageBox, Message, Loading } from \"element-ui\";\r\nimport { getToken, getId } from \"@/utils/auth\";\r\nimport store from \"../store\";\r\nimport config from \"../assets/global/config.js\";\r\nimport { EventBus } from '@/event-bus.js';\r\n\r\n// axios.defaults.headers[\"Content-Type\"] = \"application/json;charset=utf-8\";\r\n// 创建axios实例;\r\nconst service = axios.create({\r\n  // axios中请求配置有baseURL选项，表示请求URL公共部分\r\n  // baseURL: process.env.VUE_APP_BASE_API,\r\n  // baseURL: \"http://10.192.54.7:4105\", // 生产库******\r\n  // baseURL: \"http://58.49.165.170:8084\",\r\n\r\n  // baseURL: \"http://172.16.200.36:4105\",\r\n  // baseURL: \"http://172.16.200.254:4105\",\r\n  // baseURL: \"http://172.16.200.191:4105\",\r\n  // baseURL: \"http://172.16.200.101:4105\",\r\n\r\n  // baseURL: \"http://58.49.165.170:8084\", // 正式使用的ip\r\n  // baseURL: \"http://10.8.0.242:4105\", // test\r\n\r\n  baseURL: '/',\r\n\r\n  // 超时\r\n  // timeout: 10000,\r\n  headers: {\r\n    \"Content-Type\": \"application/json;charset=utf-8\"\r\n  }\r\n});\r\n// axios.defaults.baseURL = \"http://10.192.54.7:4105\";\r\n// axios.defaults.baseURL = \"http://172.16.200.254:4105\";\r\n// axios.defaults.baseURL = \"http://172.16.200.101:4105\"; // 姜依德\r\n\r\n// axios.defaults.baseURL = \"http://172.16.200.36:4105\"; // 姜智舟\r\n// axios.defaults.baseURL = \"http://172.16.200.191:4105\"; // 万钰\r\n\r\n// axios.defaults.baseURL = \"http://58.49.165.170:8084\"; // 正式使用的ip\r\n\r\n// axios.defaults.baseURL = config.serve.url; // 正式使用的ip\r\n// request拦截器;\r\nservice.interceptors.request.use(\r\n  config => {\r\n    // console.log({config})\r\n    if (getToken()) {\r\n      config.headers.Authorization = getToken(); // 让每个请求携带自定义token 请根据实际情况自行修改\r\n    }\r\n    getId() && (config.headers.userId = getId());\r\n    return config;\r\n  }\r\n  //   error => {\r\n  //     console.log(error);\r\n  //     Promise.reject(error);\r\n  //   }\r\n);\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(\r\n  res => {\r\n    const { code, info, msg } = res.data;\r\n    const { url } = res.config;\r\n    // 所有接口401 token失效\r\n    if(code && code == 401) {\r\n      Message.error(info || msg);\r\n      window.userInvalid = true\r\n      setTimeout(() => {\r\n        EventBus.$emit('userInvalid')\r\n      }, 1000)\r\n      return res\r\n    }\r\n\r\n    // 某些接口有自己的提示框，不需要拦截器的默认错误提示\r\n    if (url == \"/gateway/rentserver/apartmentLeaseApply/getStudentStatus\") {\r\n      return res;\r\n    }\r\n    if (url == \"/gateway/rentserver/apartmentLeaseApply/getStudentStatus2\") {\r\n      return res;\r\n    }\r\n    // 登入接口。如果code为1005\r\n    if (url == \"/gateway/accountserver/login/login\" && code == 1005) {\r\n      return res;\r\n    }\r\n    // 个人中心 - 收藏\r\n    if (\r\n      url == \"/gateway/rentserver/rent/frontend/collectionHouseList\" &&\r\n      code == 204\r\n    ) {\r\n      return res;\r\n    }\r\n\r\n    if (code || info) {\r\n      if (code != 200 && code != 0) {\r\n        Message.error(info || msg);\r\n      }\r\n    }\r\n    return res;\r\n  },\r\n  error => {\r\n    let data = error.response.data;\r\n    if (data && data.code) {\r\n      Message.error(data.msg);\r\n    }\r\n    let err = data.error;\r\n    err && Message.error(err);\r\n    return Promise.reject(error.response);\r\n  }\r\n);\r\n\r\nexport default {\r\n  get(url, params, options={}) {\r\n    const loading = Loading.service({\r\n      lock: true,\r\n      text: 'Loading',\r\n      spinner: 'el-icon-loading',\r\n      background: 'rgba(0, 0, 0, 0.7)'\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n      service\r\n        .get(url, { params, ...options })\r\n        .then(res => {\r\n          if(res.data instanceof Blob) {\r\n            loading.close();\r\n            resolve({\r\n              data: res.data,\r\n              fileName: decodeURI(res.headers['content-disposition'].split(';')[1].split('filename=')[1])\r\n            });\r\n          }else{\r\n            loading.close();\r\n            resolve(res.data);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          loading.close();\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  post(url, query) {\r\n    const loading = Loading.service({\r\n      lock: true,\r\n      text: 'Loading',\r\n      spinner: 'el-icon-loading',\r\n      background: 'rgba(0, 0, 0, 0.7)'\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n      service\r\n        .post(url, query)\r\n        .then(res => {\r\n          loading.close();\r\n          resolve(res.data);\r\n        })\r\n        .catch(e => {\r\n          loading.close();\r\n          reject(e);\r\n        });\r\n    });\r\n  }\r\n};\r\n"]}]}