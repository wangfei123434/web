{"remainingRequest":"C:\\Users\\001\\Desktop\\人才大脑图片\\wxy\\王飞\\项目\\web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\001\\Desktop\\人才大脑图片\\wxy\\王飞\\项目\\web\\src\\utils\\request.js","dependencies":[{"path":"C:\\Users\\001\\Desktop\\人才大脑图片\\wxy\\王飞\\项目\\web\\src\\utils\\request.js","mtime":1658367490851},{"path":"C:\\Users\\001\\Desktop\\人才大脑图片\\wxy\\王飞\\项目\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\001\\Desktop\\人才大脑图片\\wxy\\王飞\\项目\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvMDAxL0Rlc2t0b3AvXHU0RUJBXHU2MjREXHU1OTI3XHU4MTExXHU1NkZFXHU3MjQ3L3d4eS9cdTczOEJcdTk4REUvXHU5ODc5XHU3NkVFL3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCB7IE5vdGlmaWNhdGlvbiwgTWVzc2FnZUJveCwgTWVzc2FnZSwgTG9hZGluZyB9IGZyb20gImVsZW1lbnQtdWkiOwppbXBvcnQgeyBnZXRUb2tlbiwgZ2V0SWQgfSBmcm9tICJAL3V0aWxzL2F1dGgiOwppbXBvcnQgc3RvcmUgZnJvbSAiLi4vc3RvcmUiOwppbXBvcnQgY29uZmlnIGZyb20gIi4uL2Fzc2V0cy9nbG9iYWwvY29uZmlnLmpzIjsKaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICdAL2V2ZW50LWJ1cy5qcyc7IC8vIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnNbIkNvbnRlbnQtVHlwZSJdID0gImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCI7Ci8vIOWIm+W7umF4aW9z5a6e5L6LOwoKdmFyIHNlcnZpY2UgPSBheGlvcy5jcmVhdGUoewogIC8vIGF4aW9z5Lit6K+35rGC6YWN572u5pyJYmFzZVVSTOmAiemhue+8jOihqOekuuivt+axglVSTOWFrOWFsemDqOWIhgogIC8vIGJhc2VVUkw6IHByb2Nlc3MuZW52LlZVRV9BUFBfQkFTRV9BUEksCiAgLy8gYmFzZVVSTDogImh0dHA6Ly8xMC4xOTIuNTQuNzo0MTA1IiwgLy8g55Sf5Lqn5bqTKioqKioqCiAgLy8gYmFzZVVSTDogImh0dHA6Ly81OC40OS4xNjUuMTcwOjgwODQiLAogIC8vIGJhc2VVUkw6ICJodHRwOi8vMTcyLjE2LjIwMC4zNjo0MTA1IiwKICAvLyBiYXNlVVJMOiAiaHR0cDovLzE3Mi4xNi4yMDAuMjU0OjQxMDUiLAogIC8vIGJhc2VVUkw6ICJodHRwOi8vMTcyLjE2LjIwMC4xOTE6NDEwNSIsCiAgLy8gYmFzZVVSTDogImh0dHA6Ly8xNzIuMTYuMjAwLjEwMTo0MTA1IiwKICAvLyBiYXNlVVJMOiAiaHR0cDovLzU4LjQ5LjE2NS4xNzA6ODA4NCIsIC8vIOato+W8j+S9v+eUqOeahGlwCiAgLy8gYmFzZVVSTDogImh0dHA6Ly8xMC44LjAuMjQyOjQxMDUiLCAvLyB0ZXN0CiAgYmFzZVVSTDogJy8nLAogIC8vIOi2heaXtgogIC8vIHRpbWVvdXQ6IDEwMDAwLAogIGhlYWRlcnM6IHsKICAgICJDb250ZW50LVR5cGUiOiAiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04IgogIH0KfSk7IC8vIGF4aW9zLmRlZmF1bHRzLmJhc2VVUkwgPSAiaHR0cDovLzEwLjE5Mi41NC43OjQxMDUiOwovLyBheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gImh0dHA6Ly8xNzIuMTYuMjAwLjI1NDo0MTA1IjsKLy8gYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICJodHRwOi8vMTcyLjE2LjIwMC4xMDE6NDEwNSI7IC8vIOWnnOS+neW+twovLyBheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gImh0dHA6Ly8xNzIuMTYuMjAwLjM2OjQxMDUiOyAvLyDlp5zmmbroiJ8KLy8gYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICJodHRwOi8vMTcyLjE2LjIwMC4xOTE6NDEwNSI7IC8vIOS4h+mSsAovLyBheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gImh0dHA6Ly81OC40OS4xNjUuMTcwOjgwODQiOyAvLyDmraPlvI/kvb/nlKjnmoRpcAovLyBheGlvcy5kZWZhdWx0cy5iYXNlVVJMID0gY29uZmlnLnNlcnZlLnVybDsgLy8g5q2j5byP5L2/55So55qEaXAKLy8gcmVxdWVzdOaLpuaIquWZqDsKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICAvLyBjb25zb2xlLmxvZyh7Y29uZmlnfSkKICBpZiAoZ2V0VG9rZW4oKSkgewogICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGdldFRva2VuKCk7IC8vIOiuqeavj+S4quivt+axguaQuuW4puiHquWumuS5iXRva2VuIOivt+agueaNruWunumZheaDheWGteiHquihjOS/ruaUuQogIH0KCiAgZ2V0SWQoKSAmJiAoY29uZmlnLmhlYWRlcnMudXNlcklkID0gZ2V0SWQoKSk7CiAgcmV0dXJuIGNvbmZpZzsKfSAvLyAgIGVycm9yID0+IHsKLy8gICAgIGNvbnNvbGUubG9nKGVycm9yKTsKLy8gICAgIFByb21pc2UucmVqZWN0KGVycm9yKTsKLy8gICB9Cik7IC8vIOWTjeW6lOaLpuaIquWZqAoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXMpIHsKICB2YXIgX3JlcyRkYXRhID0gcmVzLmRhdGEsCiAgICAgIGNvZGUgPSBfcmVzJGRhdGEuY29kZSwKICAgICAgaW5mbyA9IF9yZXMkZGF0YS5pbmZvLAogICAgICBtc2cgPSBfcmVzJGRhdGEubXNnOwogIHZhciB1cmwgPSByZXMuY29uZmlnLnVybDsgLy8g5omA5pyJ5o6l5Y+jNDAxIHRva2Vu5aSx5pWICgogIGlmIChjb2RlICYmIGNvZGUgPT0gNDAxKSB7CiAgICBNZXNzYWdlLmVycm9yKGluZm8gfHwgbXNnKTsKICAgIHdpbmRvdy51c2VySW52YWxpZCA9IHRydWU7CiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgRXZlbnRCdXMuJGVtaXQoJ3VzZXJJbnZhbGlkJyk7CiAgICB9LCAxMDAwKTsKICAgIHJldHVybiByZXM7CiAgfSAvLyDmn5DkupvmjqXlj6PmnInoh6rlt7HnmoTmj5DnpLrmoYbvvIzkuI3pnIDopoHmi6bmiKrlmajnmoTpu5jorqTplJnor6/mj5DnpLoKCgogIGlmICh1cmwgPT0gIi9nYXRld2F5L3JlbnRzZXJ2ZXIvYXBhcnRtZW50TGVhc2VBcHBseS9nZXRTdHVkZW50U3RhdHVzIikgewogICAgcmV0dXJuIHJlczsKICB9CgogIGlmICh1cmwgPT0gIi9nYXRld2F5L3JlbnRzZXJ2ZXIvYXBhcnRtZW50TGVhc2VBcHBseS9nZXRTdHVkZW50U3RhdHVzMiIpIHsKICAgIHJldHVybiByZXM7CiAgfSAvLyDnmbvlhaXmjqXlj6PjgILlpoLmnpxjb2Rl5Li6MTAwNQoKCiAgaWYgKHVybCA9PSAiL2dhdGV3YXkvYWNjb3VudHNlcnZlci9sb2dpbi9sb2dpbiIgJiYgY29kZSA9PSAxMDA1KSB7CiAgICByZXR1cm4gcmVzOwogIH0gLy8g5Liq5Lq65Lit5b+DIC0g5pS26JePCgoKICBpZiAodXJsID09ICIvZ2F0ZXdheS9yZW50c2VydmVyL3JlbnQvZnJvbnRlbmQvY29sbGVjdGlvbkhvdXNlTGlzdCIgJiYgY29kZSA9PSAyMDQpIHsKICAgIHJldHVybiByZXM7CiAgfQoKICBpZiAoY29kZSB8fCBpbmZvKSB7CiAgICBpZiAoY29kZSAhPSAyMDAgJiYgY29kZSAhPSAwKSB7CiAgICAgIE1lc3NhZ2UuZXJyb3IoaW5mbyB8fCBtc2cpOwogICAgfQogIH0KCiAgcmV0dXJuIHJlczsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgdmFyIGRhdGEgPSBlcnJvci5yZXNwb25zZS5kYXRhOwoKICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUpIHsKICAgIE1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogIH0KCiAgdmFyIGVyciA9IGRhdGEuZXJyb3I7CiAgZXJyICYmIE1lc3NhZ2UuZXJyb3IoZXJyKTsKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IucmVzcG9uc2UpOwp9KTsKZXhwb3J0IGRlZmF1bHQgewogIGdldDogZnVuY3Rpb24gZ2V0KHVybCwgcGFyYW1zKSB7CiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307CiAgICB2YXIgbG9hZGluZyA9IExvYWRpbmcuc2VydmljZSh7CiAgICAgIGxvY2s6IHRydWUsCiAgICAgIHRleHQ6ICdMb2FkaW5nJywKICAgICAgc3Bpbm5lcjogJ2VsLWljb24tbG9hZGluZycsCiAgICAgIGJhY2tncm91bmQ6ICdyZ2JhKDAsIDAsIDAsIDAuNyknCiAgICB9KTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIHNlcnZpY2UuZ2V0KHVybCwgX29iamVjdFNwcmVhZCh7CiAgICAgICAgcGFyYW1zOiBwYXJhbXMKICAgICAgfSwgb3B0aW9ucykpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YSBpbnN0YW5jZW9mIEJsb2IpIHsKICAgICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgICAgIHJlc29sdmUoewogICAgICAgICAgICBkYXRhOiByZXMuZGF0YSwKICAgICAgICAgICAgZmlsZU5hbWU6IGRlY29kZVVSSShyZXMuaGVhZGVyc1snY29udGVudC1kaXNwb3NpdGlvbiddLnNwbGl0KCc7JylbMV0uc3BsaXQoJ2ZpbGVuYW1lPScpWzFdKQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgICByZWplY3QoZXJyKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIHBvc3Q6IGZ1bmN0aW9uIHBvc3QodXJsLCBxdWVyeSkgewogICAgdmFyIGxvYWRpbmcgPSBMb2FkaW5nLnNlcnZpY2UoewogICAgICBsb2NrOiB0cnVlLAogICAgICB0ZXh0OiAnTG9hZGluZycsCiAgICAgIHNwaW5uZXI6ICdlbC1pY29uLWxvYWRpbmcnLAogICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjcpJwogICAgfSk7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBzZXJ2aWNlLnBvc3QodXJsLCBxdWVyeSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgICByZWplY3QoZSk7CiAgICAgIH0pOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["C:/Users/001/Desktop/人才大脑图片/wxy/王飞/项目/web/src/utils/request.js"],"names":["axios","Notification","MessageBox","Message","Loading","getToken","getId","store","config","EventBus","service","create","baseURL","headers","interceptors","request","use","Authorization","userId","response","res","data","code","info","msg","url","error","window","userInvalid","setTimeout","$emit","err","Promise","reject","get","params","options","loading","lock","text","spinner","background","resolve","then","Blob","close","fileName","decodeURI","split","catch","post","query","e"],"mappings":"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","sourcesContent":["import axios from \"axios\";\r\nimport { Notification, MessageBox, Message, Loading } from \"element-ui\";\r\nimport { getToken, getId } from \"@/utils/auth\";\r\nimport store from \"../store\";\r\nimport config from \"../assets/global/config.js\";\r\nimport { EventBus } from '@/event-bus.js';\r\n\r\n// axios.defaults.headers[\"Content-Type\"] = \"application/json;charset=utf-8\";\r\n// 创建axios实例;\r\nconst service = axios.create({\r\n  // axios中请求配置有baseURL选项，表示请求URL公共部分\r\n  // baseURL: process.env.VUE_APP_BASE_API,\r\n  // baseURL: \"http://10.192.54.7:4105\", // 生产库******\r\n  // baseURL: \"http://58.49.165.170:8084\",\r\n\r\n  // baseURL: \"http://172.16.200.36:4105\",\r\n  // baseURL: \"http://172.16.200.254:4105\",\r\n  // baseURL: \"http://172.16.200.191:4105\",\r\n  // baseURL: \"http://172.16.200.101:4105\",\r\n\r\n  // baseURL: \"http://58.49.165.170:8084\", // 正式使用的ip\r\n  // baseURL: \"http://10.8.0.242:4105\", // test\r\n\r\n  baseURL: '/',\r\n\r\n  // 超时\r\n  // timeout: 10000,\r\n  headers: {\r\n    \"Content-Type\": \"application/json;charset=utf-8\"\r\n  }\r\n});\r\n// axios.defaults.baseURL = \"http://10.192.54.7:4105\";\r\n// axios.defaults.baseURL = \"http://172.16.200.254:4105\";\r\n// axios.defaults.baseURL = \"http://172.16.200.101:4105\"; // 姜依德\r\n\r\n// axios.defaults.baseURL = \"http://172.16.200.36:4105\"; // 姜智舟\r\n// axios.defaults.baseURL = \"http://172.16.200.191:4105\"; // 万钰\r\n\r\n// axios.defaults.baseURL = \"http://58.49.165.170:8084\"; // 正式使用的ip\r\n\r\n// axios.defaults.baseURL = config.serve.url; // 正式使用的ip\r\n// request拦截器;\r\nservice.interceptors.request.use(\r\n  config => {\r\n    // console.log({config})\r\n    if (getToken()) {\r\n      config.headers.Authorization = getToken(); // 让每个请求携带自定义token 请根据实际情况自行修改\r\n    }\r\n    getId() && (config.headers.userId = getId());\r\n    return config;\r\n  }\r\n  //   error => {\r\n  //     console.log(error);\r\n  //     Promise.reject(error);\r\n  //   }\r\n);\r\n\r\n// 响应拦截器\r\nservice.interceptors.response.use(\r\n  res => {\r\n    const { code, info, msg } = res.data;\r\n    const { url } = res.config;\r\n    // 所有接口401 token失效\r\n    if(code && code == 401) {\r\n      Message.error(info || msg);\r\n      window.userInvalid = true\r\n      setTimeout(() => {\r\n        EventBus.$emit('userInvalid')\r\n      }, 1000)\r\n      return res\r\n    }\r\n\r\n    // 某些接口有自己的提示框，不需要拦截器的默认错误提示\r\n    if (url == \"/gateway/rentserver/apartmentLeaseApply/getStudentStatus\") {\r\n      return res;\r\n    }\r\n    if (url == \"/gateway/rentserver/apartmentLeaseApply/getStudentStatus2\") {\r\n      return res;\r\n    }\r\n    // 登入接口。如果code为1005\r\n    if (url == \"/gateway/accountserver/login/login\" && code == 1005) {\r\n      return res;\r\n    }\r\n    // 个人中心 - 收藏\r\n    if (\r\n      url == \"/gateway/rentserver/rent/frontend/collectionHouseList\" &&\r\n      code == 204\r\n    ) {\r\n      return res;\r\n    }\r\n\r\n    if (code || info) {\r\n      if (code != 200 && code != 0) {\r\n        Message.error(info || msg);\r\n      }\r\n    }\r\n    return res;\r\n  },\r\n  error => {\r\n    let data = error.response.data;\r\n    if (data && data.code) {\r\n      Message.error(data.msg);\r\n    }\r\n    let err = data.error;\r\n    err && Message.error(err);\r\n    return Promise.reject(error.response);\r\n  }\r\n);\r\n\r\nexport default {\r\n  get(url, params, options={}) {\r\n    const loading = Loading.service({\r\n      lock: true,\r\n      text: 'Loading',\r\n      spinner: 'el-icon-loading',\r\n      background: 'rgba(0, 0, 0, 0.7)'\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n      service\r\n        .get(url, { params, ...options })\r\n        .then(res => {\r\n          if(res.data instanceof Blob) {\r\n            loading.close();\r\n            resolve({\r\n              data: res.data,\r\n              fileName: decodeURI(res.headers['content-disposition'].split(';')[1].split('filename=')[1])\r\n            });\r\n          }else{\r\n            loading.close();\r\n            resolve(res.data);\r\n          }\r\n        })\r\n        .catch(err => {\r\n          loading.close();\r\n          reject(err);\r\n        });\r\n    });\r\n  },\r\n  post(url, query) {\r\n    const loading = Loading.service({\r\n      lock: true,\r\n      text: 'Loading',\r\n      spinner: 'el-icon-loading',\r\n      background: 'rgba(0, 0, 0, 0.7)'\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n      service\r\n        .post(url, query)\r\n        .then(res => {\r\n          loading.close();\r\n          resolve(res.data);\r\n        })\r\n        .catch(e => {\r\n          loading.close();\r\n          reject(e);\r\n        });\r\n    });\r\n  }\r\n};\r\n"]}]}